<!doctype html>
<meta charset="utf-8">
<title>Perl Brasil - Perldoc v5.8.7 - Perl58delta</title>
<body>

<ul> 
<li>TWiki</li> 
<li>FrozenBubble</li> 
<li>Moose</li> 
<li></li> </ul> 
<h1></h1> 
<h4>Pesquisar</h4> 
<ul> 
<li></li> 
<li>Todas as Webs</li> </ul> 
<p></p> 
<h4>Documenta&ccedil;&atilde;o</h4> 
<ul> 
<li>Introdu&ccedil;&atilde;o ao Perl</li> 
<li>Estruturas de dados</li> 
<li>Express&otilde;es regulares</li> 
<li>Orienta&ccedil;&atilde;o a objetos</li> 
<li>Guia de estilos</li> </ul> 
<ul> 
<li>mais...</li> </ul> 
<h4>Artigos</h4> 
<ul> 
<li>Desenvolvendo aplica&ccedil;&otilde;es web com o Mojolicious::Lite</li> 
<li>Lendo XML com XPath</li> 
<li>Rakudo Star - Um Perl 6 &uacute;til e utiliz&aacute;vel, hoje!</li> 
<li>Como instalar, passo a passo o: Apache, Mysql, Perl e m&oacute;dulos 
necess&aacute;rios do CPAN no Windows</li> 
<li>Operadores bit-a-bit</li> </ul> 
<ul> 
<li>mais...</li> </ul> 
<h4>Planeta</h4> 
<ul> 
<p></p> 
<li>Lorn: L&aacute; E Devolta Outra Vez</li> 
<li>Donato: Cell Phone Interface for PBX use</li> 
<li>Lorn: A Biblioteca Pessoal De Neil Gaiman</li> 
<li>Lorn: Hackers Que Voc&ecirc; Deveria Conhecer (1): Brad Fitzpatrick</li> 
<li>Donato: Hiring a webdesign company and giving straightforward intelligible 
guidelines</li> 
<p></p> </ul> 
<ul> 
<li>mais...</li> </ul> 
<h4>Eventos</h4> 
<ul> 
<p></p> 
<p></p> 
<p></p> 
<p></p> 
<p></p> 
<p></p> </ul> 
<ul> 
<li>mais...</li> </ul> <br>
<br>

<h4>Comunidade</h4> 
<ul> 
<li>Brasil</li> 
<li>S&atilde;o Paulo</li> 
<li>Rio de Janeiro</li> 
<li>Salvador</li> 
<li>Fortaleza</li> </ul> 
<ul> 
<li>mais...</li> </ul> 
<p></p> <br>
 r1 - 04 Mar 2006 - NelsonFerraz <br>

<p></p> 
<p></p> 
<p></p> 
<ul> 
<li>NAME</li> 
<li>DESCRIPTION</li> 
<li>Highlights In 5.8.0</li> 
<li>Incompatible Changes</li> 
<ul> 
<li>Binary Incompatibility</li> 
<li>64-bit platforms and malloc</li> 
<li>AIX Dynaloading</li> 
<li>Attributes for <code>my</code> variables now handled at run-time</li> 
<li>Socket Extension Dynamic in VMS</li> 
<li>IEEE-format Floating Point Default on OpenVMS? Alpha</li> 
<li>New Unicode Semantics (no more <code>use utf8</code>, almost)</li> 
<li>New Unicode Properties</li> 
<li><code>REF(...)</code> Instead Of <code>SCALAR(...)</code></li> 
<li>pack/unpack D/F recycled</li> 
<li><code>glob()</code> now returns filenames in alphabetical order</li> 
<li>Deprecations</li> </ul> 
<li>Core Enhancements</li> 
<ul> 
<li>Unicode Overhaul</li> 
<li>PerlIO is Now The Default</li> 
<li>ithreads</li> 
<li>Restricted Hashes</li> 
<li>Safe Signals</li> 
<li>Understanding of Numbers</li> 
<li>Arrays now always interpolate into double-quoted strings [561]</li> 
<li>Miscellaneous Changes</li> </ul> 
<li>Modules and Pragmata</li> 
<ul> 
<li>New Modules and Pragmata</li> 
<li>Updated And Improved Modules and Pragmata</li> </ul> 
<li>Utility Changes</li> 
<li>New Documentation</li> 
<li>Performance Enhancements</li> 
<li>Installation and Configuration Improvements</li> 
<ul> 
<li>Generic Improvements</li> 
<li>New Or Improved Platforms</li> </ul> 
<li>Selected Bug Fixes</li> 
<ul> 
<li>Platform Specific Changes and Fixes</li> </ul> 
<li>New or Changed Diagnostics</li> 
<li>Changed Internals</li> 
<li>Security Vulnerability Closed [561]</li> 
<li>New Tests</li> 
<li>Known Problems</li> 
<ul> 
<li>The Compiler Suite Is Still Very Experimental</li> 
<li>Localising Tied Arrays and Hashes Is Broken</li> 
<li>Building Extensions Can Fail Because Of Largefiles</li> 
<li>Modifying $_ Inside <code>for(..)</code></li> 
<li>mod_perl 1.26 Doesn't Build With Threaded Perl</li> 
<li>lib/ftmp-security tests warn 'system possibly insecure'</li> 
<li>libwww-perl (LWP) fails base/date #51</li> 
<li>PDL failing some tests</li> 
<li>Perl_get_sv</li> 
<li>Self-tying Problems</li> 
<li>ext/threads/t/libc</li> 
<li>Failure of Thread (5.005-style) tests</li> 
<li>Timing problems</li> 
<li>Tied/Magical Array/Hash Elements Do Not Autovivify</li> 
<li>Unicode in package/class and subroutine names does not work</li> </ul> 
<li>Platform Specific Problems</li> 
<ul> 
<li>AIX</li> 
<li>Alpha systems with old gccs fail several tests</li> 
<li>AmigaOS</li> 
<li>BeOS</li> 
<li>Cygwin ``unable to remap''</li> 
<li>Cygwin ndbm tests fail on FAT</li> 
<li>DJGPP Failures</li> 
<li>FreeBSD built with ithreads coredumps reading large directories</li> 
<li>FreeBSD Failing locale Test 117 For ISO 8859-15 Locales</li> 
<li>IRIX fails ext/List/Util/t/shuffle.t or Digest::MD5</li> 
<li>HP-UX lib/posix Subtest 9 Fails When LP64-Configured</li> 
<li>Linux with glibc 2.2.5 fails t/op/int subtest #6 with -Duse64bitint</li> 
<li>Linux With Sfio Fails op/misc Test 48</li> 
<li>Mac OS X</li> 
<li>Mac OS X dyld undefined symbols</li> 
<li>OS/2 Test Failures</li> 
<li>op/sprintf tests 91, 129, and 130</li> 
<li>SCO</li> 
<li>Solaris 2.5</li> 
<li>Solaris x86 Fails Tests With -Duse64bitint</li> 
<li>SUPER-UX (NEC SX)</li> 
<li>Term::ReadKey not working on Win32</li> 
<li>UNICOS/mk</li> 
<li>UTS</li> 
<li>VOS (Stratus)</li> 
<li>VMS</li> 
<li>Win32</li> 
<li>XML::Parser not working</li> 
<li>z/OS (OS/390)</li> 
<li>Unicode Support on EBCDIC Still Spotty</li> 
<li>Seen In Perl 5.7 But Gone Now</li> </ul> 
<li>Reporting Bugs</li> 
<li>SEE ALSO</li> 
<li>HISTORY</li> </ul> 
<p></p> 
<h1> NAME </h1> perl58delta - what is new for perl v5.8.0 
<p> voltar para o topo </p> 
<h1> DESCRIPTION </h1> This document describes differences between the 5.6.0 
release and the 5.8.0 release. Many of the bug fixes in 5.8.0 were already seen 
in the 5.6.1 maintenance release since the two releases were kept closely 
coordinated (while 5.8.0 was still called 5.7.something). Changes that were 
integrated into the 5.6.1 release are marked<code>[561]</code>. Many of these 
changes have been further developed since 5.6.1 was released, those are marked
<code>[561+]</code>. You can see the list of changes in the 5.6.1 release (both 
from the 5.005_03 release and the 5.6.0 release) by readingthe perl561delta 
manpage. 
<p> voltar para o topo </p> 
<h1> Highlights In 5.8.0 </h1> 
<ul> 
<p></p> 
<li></li> Better Unicode support 
<p></p> 
<li></li> New IO Implementation 
<p></p> 
<li></li> New Thread Implementation 
<p></p> 
<li></li> Better Numeric Accuracy 
<p></p> 
<li></li> Safe Signals 
<p></p> 
<li></li> Many New Modules 
<p></p> 
<li></li> More Extensive Regression Testing </ul> 
<p> voltar para o topo </p> 
<h1> Incompatible Changes </h1> 
<h2> Binary Incompatibility </h2> <strong>Perl 5.8 is not binary compatible 
with earlier releases of Perl.</strong> <strong>You have to recompile your XS 
modules.</strong> (Pure Perl modules should continue to work.) The major reason 
for the discontinuity is the new IO architecture calledPerlIO? . PerlIO? is the 
default configuration because without it many new features of Perl 5.8 cannot 
be used. In other words: you just have to recompile your modules containing XS 
code, sorry about that. In future releases of Perl, non-PerlIO aware XS modules 
may become completely unsupported. This shouldn't be too difficult for module 
authors, however:PerlIO? has been designed as a drop-in replacement (at the 
source code level) for the stdio interface. Depending on your platform, there 
are also other reasons why we decided to break binary compatibility, please 
read on.
<h2> 64-bit platforms and malloc </h2> If your pointers are 64 bits wide, the 
Perl malloc is no longer being used because it does not work well with 8-byte 
pointers. Also, usually the system mallocs on such platforms are much better 
optimized for such large memory models than the Perl malloc. Some memory-hungry 
Perl applications like the PDL don't work well with Perl's malloc. Finally, 
other applications than Perl (such as mod_perl) tend to prefer the system 
malloc. Such platforms include Alpha and 64-bit HPPA, MIPS, PPC, and Sparc.
<h2> AIX Dynaloading </h2> The AIX dynaloading now uses in AIX releases 4.3 
and newer the native dlopen interface of AIX instead of the old emulated 
interface. This change will probably break backward compatibility with compiled 
modules. The change was made to make Perl more compliant with other 
applications like mod_perl which are using the AIX native interface.
<h2> Attributes for <code>my</code> variables now handled at run-time </h2> The
<code>my EXPR : ATTRS</code> syntax now applies variable attributes at 
run-time. (Subroutine and<code>our</code> variables still get attributes 
applied at compile-time.) Seethe attributes manpage for additional details. In 
particular, however, this allows variable attributes to be useful for<code>tie
</code> interfaces, which was a deficiency of earlier releases. Note that the 
new semantics doesn't work with the Attribute::Handlers module (as of version 
0.76).
<h2> Socket Extension Dynamic in VMS </h2> The Socket extension is now 
dynamically loaded instead of being statically built in. This may or may not be 
a problem with ancient TCP/IP stacks of VMS: we do not know since we weren't 
able to test Perl in such configurations.
<h2> IEEE-format Floating Point Default on OpenVMS? Alpha </h2> Perl now uses 
IEEE format (T_FLOAT) as the default internal floating point format onOpenVMS? 
Alpha, potentially breaking binary compatibility with external libraries or 
existing data. G_FLOAT is still available as a configuration option. The 
default on VAX (D_FLOAT) has not changed.
<h2> New Unicode Semantics (no more <code>use utf8</code>, almost) </h2> 
Previously in Perl 5.6 to use Unicode one would say ``use utf8'' and then the 
operations (like string concatenation) were Unicode-aware in that lexical 
scope. This was found to be an inconvenient interface, and in Perl 5.8 the 
Unicode model has completely changed: now the ``Unicodeness'' is bound to the 
data itself, and for most of the time ``use utf8'' is not needed at all. The 
only remaining use of ``use utf8'' is when the Perl script itself has been 
written in the UTF-8 encoding of Unicode. (UTF-8 has not been made the default 
since there are many Perl scripts out there that are using various national 
eight-bit character sets, which would be illegal in UTF-8.) Seethe perluniintro 
manpage for the explanation of the current model, and the utf8 manpage for the 
current use of the utf8 pragma.
<h2> New Unicode Properties </h2> Unicode <em>scripts</em> are now supported. 
Scripts are similar to (and superior to) Unicode<em>blocks</em>. The difference 
between scripts and blocks is that scripts are the glyphs used by a language or 
a group of languages, while the blocks are more artificial groupings of 
(mostly) 256 characters based on the Unicode numbering. In general, scripts are 
more inclusive, but not universally so. For example, while the script<code>Latin
</code> includes all the Latin characters and their various diacritic-adorned 
versions, it does not include the various punctuation or digits (since they are 
not solely<code>Latin</code>). A number of other properties are now supported, 
including<code>\p{L&amp;}</code>, <code>\p{Any}</code> <code>\p{Assigned}</code>
,<code>\p{Unassigned}</code>, <code>\p{Blank}</code> [561] and <code>
\p{SpacePerl}</code> [561] (along with their <code>\P{...}</code> versions, of 
course). Seethe perlunicode manpage for details, and more additions. The <code>
In</code> or <code>Is</code> prefix to names used with the <code>\p{...}</code> 
and<code>\P{...}</code> are now almost always optional. The only exception is 
that a<code>In</code> prefix is required to signify a Unicode block when a 
block name conflicts with a script name. For example,<code>\p{Tibetan}</code> 
refers to the script, while<code>\p{InTibetan}</code> refers to the block. When 
there is no name conflict, you can omit the<code>In</code> from the block name 
(e.g.<code>\p{BraillePatterns}</code>), but to be safe, it's probably best to 
always use the<code>In</code>). 
<h2> <code>REF(...)</code> Instead Of <code>SCALAR(...)</code> </h2> A 
reference to a reference now stringifies as ``REF(0x81485ec)'' instead of 
``SCALAR(0x81485ec)'' in order to be more consistent with the return value of 
ref().
<h2> pack/unpack D/F recycled </h2> The undocumented pack/unpack template 
letters D/F have been recycled for better use: now they stand for long double 
(if supported by the platform) and NV (Perl internal floating point type). 
(They used to be aliases for d/f, but you never knew that.)
<h2> <code>glob()</code> now returns filenames in alphabetical order </h2> The 
list of filenames from<code>glob()</code> (or &lt;...&gt;) is now by default 
sorted alphabetically to be csh-compliant (which is what happened before in 
most UNIX platforms). (bsd_glob() does still sort platform natively, ASCII or 
EBCDIC, unless GLOB_ALPHASORT is specified.) [561]
<h2> Deprecations </h2> 
<ul> 
<p></p> 
<li></li> The semantics of bless(REF, REF) were unclear and until someone 
proves it to make some sense, it is forbidden.
<p></p> 
<li></li> The obsolete chat2 library that should never have been allowed to 
escape the laboratory has been decommissioned.
<p></p> 
<li></li> Using <code>chdir(``'')</code> or <code>chdir(undef)</code> instead 
of explicit<code>chdir()</code> is doubtful. A failure (think <code>
chdir(some_function())</code> can lead into unintended <code>chdir()</code> to 
the home directory, therefore this behaviour is deprecated.
<p></p> 
<li></li> The builtin <code>dump()</code> function has probably outlived most 
of its usefulness. The core-dumping functionality will remain in future 
available as an explicit call to<code>CORE::dump()</code>, but in future 
releases the behaviour of an unqualified<code>dump()</code> call may change. 
<p></p> 
<li></li> The very dusty examples in the eg/ directory have been removed. 
Suggestions for new shiny examples welcome but the main issue is that the 
examples need to be documented, tested and (most importantly) maintained.
<p></p> 
<li></li> The (bogus) escape sequences \8 and \9 now give an optional warning 
(``Unrecognized escape passed through''). There is no need to \-escape any<code>
\w</code> character. 
<p></p> 
<li></li> The *glob{FILEHANDLE} is deprecated, use *glob{IO} instead. 
<p></p> 
<li></li> The <code>package;</code> syntax ( <code>package</code> without an 
argument) has been deprecated. Its semantics were never that clear and its 
implementation even less so. If you have used that feature to disallow all but 
fully qualified variables,<code>use strict;</code> instead. 
<p></p> 
<li></li> The unimplemented POSIX regex features .cc.? and =c=? are still 
recognised but now cause fatal errors. The previous behaviour of ignoring them 
by default and warning if requested was unacceptable since it, in a way, 
falsely promised that the features could be used.
<p></p> 
<li></li> In future releases, non-PerlIO aware XS modules may become 
completely unsupported. SincePerlIO? is a drop-in replacement for stdio at the 
source code level, this shouldn't be that drastic a change.
<p></p> 
<li></li> Previous versions of perl and some readings of some sections of 
Camel III implied that the<code>:raw</code> ``discipline'' was the inverse of 
<code>:crlf</code>. Turning off ``clrfness'' is no longer enough to make a 
stream truly binary. So thePerlIO? <code>:raw</code> layer (or ``discipline'', 
to use the Camel book's older terminology) is now formally defined as being 
equivalent to<code>binmode(FH)</code> - which is in turn defined as doing 
whatever is necessary to pass each byte as-is without any translation. In 
particular<code>binmode(FH)</code> - and hence <code>:raw</code> - will now 
turn off both CRLF and UTF-8 translation and remove other layers (e.g. 
:encoding()) which would modify byte stream.
<p></p> 
<li></li> The current user-visible implementation of pseudo-hashes (the weird 
use of the first array element) is deprecated starting from Perl 5.8.0 and will 
be removed in Perl 5.10.0, and the feature will be implemented differently. Not 
only is the current interface rather ugly, but the current implementation slows 
down normal array and hash use quite noticeably. The<code>fields</code> pragma 
interface will remain available. The<em>restricted hashes</em> interface is 
expected to be the replacement interface (seethe Hash::Util manpage). If your 
existing programs depends on the underlying implementation, consider usingthe 
Class::PseudoHash manpage from CPAN. 
<p></p> 
<li></li> The syntaxes <code>@a-&gt;[...]</code> and <code>%h-&gt;{...}</code> 
have now been deprecated.
<p></p> 
<li></li> After years of trying, suidperl is considered to be too complex to 
ever be considered truly secure. The suidperl functionality is likely to be 
removed in a future release.
<p></p> 
<li></li> The 5.005 threads model (module <code>Thread</code>) is deprecated 
and expected to be removed in Perl 5.10. Multithreaded code should be migrated 
to the new ithreads model (seethe threads manpage, the threads::shared manpage 
andthe perlthrtut manpage). 
<p></p> 
<li></li> The long deprecated uppercase aliases for the string comparison 
operators (EQ, NE, LT, LE, GE, GT) have now been removed.
<p></p> 
<li></li> The tr///C and tr///U features have been removed and will not 
return; the interface was a mistake. Sorry about that. For similar 
functionality, see pack('U0', ...) and pack('C0', ...). [561]
<p></p> 
<li></li> Earlier Perls treated ``sub foo (@bar)'' as equivalent to ``sub foo 
(@)''. The prototypes are now checked better at compile-time for invalid 
syntax. An optional warning is generated (``Illegal character in 
prototype...``) but this may be upgraded to a fatal error in a future release.
<p></p> 
<li></li> The <code>exec LIST</code> and <code>system LIST</code> operations 
now produce warnings on tainted data and in some future release they will 
produce fatal errors.
<p></p> 
<li></li> The existing behaviour when localising tied arrays and hashes is 
wrong, and will be changed in a future release, so do not rely on the existing 
behaviour. SeeLocalising Tied Arrays and Hashes Is Broken. </ul> 
<p> voltar para o topo </p> 
<h1> Core Enhancements </h1> 
<h2> Unicode Overhaul </h2> Unicode in general should be now much more usable 
than in Perl 5.6.0 (or even in 5.6.1). Unicode can be used in hash keys, 
Unicode in regular expressions should work now, Unicode in tr/// should work 
now, Unicode in I/O should work now. Seethe perluniintro manpage for 
introduction andthe perlunicode manpage for details. 
<ul> 
<p></p> 
<li></li> The Unicode Character Database coming with Perl has been upgraded to 
Unicode 3.2.0. For more information, seehttp://www.unicode.org/ . [561+] (5.6.1 
has UCD 3.0.1.)
<p></p> 
<li></li> For developers interested in enhancing Perl's Unicode capabilities: 
almost all the UCD files are included with the Perl distribution in the<em>
lib/unicore</em> subdirectory. The most notable omission, for space 
considerations, is the Unihan database.
<p></p> 
<li></li> The properties \p{Blank} and \p{SpacePerl} have been added. 
``Blank'' is like C isblank(), that is, it contains only ``horizontal 
whitespace'' (the space character is, the newline isn't), and the ``SpacePerl'' 
is the Unicode equivalent of<code>\s</code> (\p{Space} isn't, since that 
includes the vertical tabulator character, whereas<code>\s</code> doesn't.) See 
``New Unicode Properties'' earlier in this document for additional information 
on changes with Unicode properties.</ul> 
<h2> PerlIO is Now The Default </h2> 
<ul> 
<p></p> 
<li></li> IO is now by default done via PerlIO? rather than system's ``stdio''.
PerlIO? allows ``layers'' to be ``pushed'' onto a file handle to alter the 
handle's behaviour. Layers can be specified at open time via 3-arg form of open:
<pre> open($fh,'&gt;:crlf :utf8', $path) || ...</pre> or on already opened 
handles via extended<code>binmode</code>: 
<pre> binmode($fh,':encoding(iso-8859-7)');</pre> The built-in layers are: 
unix (low level read/write), stdio (as in previous Perls), perlio 
(re-implementation of stdio buffering in a portable manner), crlf (does CRLF 
&lt;=&gt; ``\n'' translation as on Win32, but available on any platform). A 
mmap layer may be available if platform supports it (mostly UNIXes). Layers to 
be applied by default may be specified via the 'open' pragma. SeeInstallation 
and Configuration Improvements for the effects of PerlIO? on your architecture 
name.
<p></p> 
<li></li> If your platform supports fork(), you can use the list form of <code>
open</code> for pipes. For example: 
<pre> open KID_PS, &quot;-|&quot;, &quot;ps&quot;, &quot;aux&quot; or die $!;
</pre> forks the the ps(1) manpage command (without spawning a shell, as there 
are more than three arguments to open()), and reads its standard output via the
<code>KID_PS</code> filehandle. See the perlipc manpage. 
<p></p> 
<li></li> File handles can be marked as accepting Perl's internal encoding of 
Unicode (UTF-8 or UTF-EBCDIC depending on platform) by a pseudo layer ``:utf8'' 
:
<pre> open($fh,&quot;&gt;:utf8&quot;,&quot;Uni.txt&quot;);</pre> Note for 
EBCDIC users: the pseudo layer ``:utf8'' is erroneously named for you since 
it's not UTF-8 what you will be getting but instead UTF-EBCDIC. Seethe 
perlunicode manpage, the utf8 manpage, and 
http://www.unicode.org/unicode/reports/tr16/ for more information. In future 
releases this naming may change. Seethe perluniintro manpage for more 
information about UTF-8.
<p></p> 
<li></li> If your environment variables (LC_ALL, LC_CTYPE, LANG) look like you 
want to use UTF-8 (any of the the variables match<code>/utf-?8/i</code>), your 
STDIN, STDOUT, STDERR handles and the default open layer (seethe open manpage) 
are marked as UTF-8. (This feature, like other new features that combine 
Unicode and I/O, work only if you are usingPerlIO? , but that's the default.) 
Note that after this Perl really does assume that everything is UTF-8: for 
example if some input handle is not, Perl will probably very soon complain 
about the input data like this ``Malformed UTF-8 ...'' since any old eight-bit 
data is not legal UTF-8. Note for code authors: if you want to enable your 
users to use UTF-8 as their default encoding but in your code still have 
eight-bit I/O streams (such as images or zip files), you need to explicitly
<code>open()</code> or <code>binmode()</code> with <code>:bytes</code> (see 
open in the perlfunc manpage and binmode in the perlfunc manpage), or you can 
just use<code>binmode(FH)</code> (nice for pre-5.8.0 backward compatibility). 
<p></p> 
<li></li> File handles can translate character encodings from/to Perl's 
internal Unicode form on read/write via the ``:encoding()'' layer.
<p></p> 
<li></li> File handles can be opened to ``in memory'' files held in Perl 
scalars via:
<pre> open($fh,'&gt;', \$variable) || ...</pre> 
<p></p> 
<li></li> Anonymous temporary files are available without need to 'use 
FileHandle' or other module via 
<pre> open($fh,&quot;+&gt;&quot;, undef) || ...</pre> That is a literal undef, 
not an undefined value.</ul> 
<h2> ithreads </h2> The new interpreter threads (``ithreads'' for short) 
implementation of multithreading, by Arthur Bergman, replaces the old ``5.005 
threads'' implementation. In the ithreads model any data sharing between 
threads must be explicit, as opposed to the model where data sharing was 
implicit. Seethe threads manpage and the threads::shared manpage, and the 
perlthrtut manpage. As a part of the ithreads implementation Perl will also use 
any necessary and detectable reentrant libc interfaces.
<h2> Restricted Hashes </h2> A restricted hash is restricted to a certain set 
of keys, no keys outside the set can be added. Also individual keys can be 
restricted so that the key cannot be deleted and the value cannot be changed. 
No new syntax is involved: the Hash::Util module is the interface.
<h2> Safe Signals </h2> Perl used to be fragile in that signals arriving at 
inopportune moments could corrupt Perl's internal state. Now Perl postpones 
handling of signals until it's safe (between opcodes). This change may have 
surprising side effects because signals no longer interrupt Perl instantly. 
Perl will now first finish whatever it was doing, like finishing an internal 
operation (like<code>sort())</code> or an external operation (like an I/O 
operation), and only then look at any arrived signals (and before starting the 
next operation). No more corrupt internal state since the current operation is 
always finished first, but the signal may take more time to get heard. Note 
that breaking out from potentially blocking operations should still work, 
though.
<h2> Understanding of Numbers </h2> In general a lot of fixing has happened in 
the area of Perl's understanding of numbers, both integer and floating point. 
Since in many systems the standard number parsing functions like<code>strtoul()
</code> and <code>atof()</code> seem to have bugs, Perl tries to work around 
their deficiencies. This results hopefully in more accurate numbers. Perl now 
tries internally to use integer values in numeric conversions and basic 
arithmetics (+ - * /) if the arguments are integers, and tries also to keep the 
results stored internally as integers. This change leads to often slightly 
faster and always less lossy arithmetics. (Previously Perl always preferred 
floating point numbers in its math.)
<h2> Arrays now always interpolate into double-quoted strings [561] </h2> In 
double-quoted strings, arrays now interpolate, no matter what. The behavior in 
earlier versions of perl 5 was that arrays would interpolate into strings if 
the array had been mentioned before the string was compiled, and otherwise Perl 
would raise a fatal compile-time error. In versions 5.000 through 5.003, the 
error was
<pre> Literal @example now requires backslash</pre> In versions 5.004_01 
through 5.6.0, the error was
<pre> In string, @example now must be written as \@example</pre> The idea here 
was to get people into the habit of writing<code>&quot;fred\@example.com&quot;
</code> when they wanted a literal <code>@</code> sign, just as they have 
always written<code>&quot;Give me back my \$5&quot;</code> when they wanted a 
literal<code>$</code> sign. Starting with 5.6.1, when Perl now sees an <code>@
</code> sign in a double-quoted string, it <em>always</em> attempts to 
interpolate an array, regardless of whether or not the array has been used or 
declared already. The fatal error has been downgraded to an optional warning:
<pre> Possible unintended interpolation of @example in string</pre> This warns 
you that<code>&quot;fred@example.com&quot;</code> is going to turn into <code>
fred.com</code> if you don't backslash the <code>@</code>. See 
http://www.plover.com/~mjd/perl/at-error.html for more details about the 
history here.
<h2> Miscellaneous Changes </h2> 
<ul> 
<p></p> 
<li></li> AUTOLOAD is now lvaluable, meaning that you can add the :lvalue 
attribute to AUTOLOAD subroutines and you can assign to the AUTOLOAD return 
value.
<p></p> 
<li></li> The $Config{byteorder} (and corresponding BYTEORDER in config.h) was 
previously wrong in platforms if<code>sizeof(long)</code> was 4, but <code>
sizeof(IV)</code> was 8. The byteorder was only <code>sizeof(long)</code> bytes 
long (1234 or 4321), but now it is correctly<code>sizeof(IV)</code> bytes long, 
(12345678 or 87654321). (This problem didn't affect Windows platforms.) Also, 
$Config{byteorder} is now computed dynamically--this is more robust with ``fat 
binaries'' where an executable image contains binaries for more than one binary 
platform, and when cross-compiling.
<p></p> 
<li></li> <code>perl -d:Module=arg,arg,arg</code> now works (previously one 
couldn't pass in multiple arguments.)
<p></p> 
<li></li> <code>do</code> followed by a bareword now ensures that this 
bareword isn't a keyword (to avoid a bug where<code>do q(foo.pl)</code> tried 
to call a subroutine called<code>q</code>). This means that for example instead 
of<code>do format()</code> you must write <code>do &amp;format()</code>. 
<p></p> 
<li></li> The builtin <code>dump()</code> now gives an optional warning <code>
dump() better written as CORE::dump()</code>, meaning that by default <code>
dump(...)</code> is resolved as the builtin <code>dump()</code> which dumps 
core and aborts, not as (possibly) user-defined<code>sub dump</code>. To call 
the latter, qualify the call as<code>&amp;dump(...)</code>. (The whole <code>
dump()</code> feature is to considered deprecated, and possibly removed/changed 
in future releases.)
<p></p> 
<li></li> <code>chomp()</code> and <code>chop()</code> are now overridable. 
Note, however, that their prototype (as given by<code>
prototype(&quot;CORE::chomp&quot;)</code> is undefined, because it cannot be 
expressed and therefore one cannot really write replacements to override these 
builtins.
<p></p> 
<li></li> END blocks are now run even if you exit/die in a BEGIN block. 
Internally, the execution of END blocks is now controlled by PL_exit_flags 
&amp; PERL_EXIT_DESTRUCT_END. This enables the new behaviour for Perl 
embedders. This will default in 5.10. Seethe perlembed manpage. 
<p></p> 
<li></li> Formats now support zero-padded decimal fields. 
<p></p> 
<li></li> Although ``you shouldn't do that'', it was possible to write code 
that depends on Perl's hashed key order (Data::Dumper does this). The new 
algorithm ``One-at-a-Time'' produces a different hashed key order. More details 
are inPerformance Enhancements. 
<p></p> 
<li></li> <code>lstat(FILEHANDLE)</code> now gives a warning because the 
operation makes no sense. In future releases this may become a fatal error.
<p></p> 
<li></li> Spurious syntax errors generated in certain situations, when <code>
glob()</code> caused File::Glob to be loaded for the first time, have been 
fixed. [561]
<p></p> 
<li></li> Lvalue subroutines can now return <code>undef</code> in list 
context. However, the lvalue subroutine feature still remains experimental. 
[561+]
<p></p> 
<li></li> A lost warning ``Can't declare ... dereference in my'' has been 
restored (Perl had it earlier but it became lost in later releases.)
<p></p> 
<li></li> A new special regular expression variable has been introduced: <code>
$^N</code>, which contains the most-recently closed group (submatch). 
<p></p> 
<li></li> <code>no Module;</code> does not produce an error even if Module 
does not have an<code>unimport()</code> method. This parallels the behavior of 
<code>use</code> vis-a-vis <code>import</code>. [561] 
<p></p> 
<li></li> The numerical comparison operators return <code>undef</code> if 
either operand is aNaN? . Previously the behaviour was unspecified. 
<p></p> 
<li></li> <code>our</code> can now have an experimental optional attribute 
<code>unique</code> that affects how global variables are shared among multiple 
interpreters, seeour in the perlfunc manpage. 
<p></p> 
<li></li> The following builtin functions are now overridable: each(), keys(), 
pop(), push(), shift(), splice(), unshift(). [561]
<p></p> 
<li></li> <code>pack() / unpack()</code> can now group template letters with 
<code>()</code> and then apply repetition/count modifiers on the groups. 
<p></p> 
<li></li> <code>pack() / unpack()</code> can now process the Perl internal 
numeric types: IVs, UVs, NVs-- and also long doubles, if supported by the 
platform. The template letters are<code>j</code>, <code>J</code>, <code>F</code>
, and<code>D</code>. 
<p></p> 
<li></li> <code>pack('U0a*', ...)</code> can now be used to force a string to 
UTF-8.
<p></p> 
<li></li> my <strong><em>PACKAGE</em></strong> $obj now works. [561] 
<p></p> 
<li></li> POSIX::sleep() now returns the number of <em>unslept</em> seconds 
(as the POSIX standard says), as opposed to CORE::sleep() which returns the 
number of slept seconds.
<p></p> 
<li></li> <code>printf()</code> and <code>sprintf()</code> now support 
parameter reordering using the<code>%\d+\$</code> and <code>*\d+\$</code> 
syntaxes. For example
<pre> printf &quot;%2\$s %1\$s\n&quot;, &quot;foo&quot;, &quot;bar&quot;;</pre>
 will print ``bar foo\n''. This feature helps in writing internationalised 
software, and in general when the order of the parameters can vary.
<p></p> 
<li></li> The (\&amp;) prototype now works properly. [561] 
<p></p> 
<li></li> <code>prototype(\[$@%&amp;])</code> is now available to implicitly 
create references (useful for example if you want to emulate the<code>tie()
</code> interface). 
<p></p> 
<li></li> A new command-line option, <code>-t</code> is available. It is the 
little brother of<code>-T</code>: instead of dying on taint violations, lexical 
warnings are given.<strong></strong>This is only meant as a temporary debugging 
aid while securing the code of old legacy applications. This is not a 
substitute for -T.&gt;
<p></p> 
<li></li> In other taint news, the <code>exec LIST</code> and <code>system LIST
</code> have now been considered too risky (think <code>exec @ARGV</code>: it 
can start any program with any arguments), and now the said forms cause a 
warning under lexical warnings. You should carefully launder the arguments to 
guarantee their validity. In future releases of Perl the forms will become 
fatal errors so consider starting laundering now.
<p></p> 
<li></li> Tied hash interfaces are now required to have the EXISTS and DELETE 
methods (either own or inherited).
<p></p> 
<li></li> If tr/// is just counting characters, it doesn't attempt to modify 
its target.
<p></p> 
<li></li> <code>untie()</code> will now call an <code>UNTIE()</code> hook if 
it exists. Seethe perltie manpage for details. [561] 
<p></p> 
<li></li> the utime manpage now supports <code>utime undef, undef, @files
</code> to change the file timestamps to the current time. 
<p></p> 
<li></li> The rules for allowing underscores (underbars) in numeric constants 
have been relaxed and simplified: now you can have an underscore simply<strong>
between digits</strong>. 
<p></p> 
<li></li> Rather than relying on C's argv[0] (which may not contain a full 
pathname) where possible $^X is now set by asking the operating system. (eg by 
reading<em>/proc/self/exe</em> on Linux, <em>/proc/curproc/file</em> on FreeBSD?
 )
<p></p> 
<li></li> A new variable, <code>${^TAINT}</code>, indicates whether taint mode 
is enabled.
<p></p> 
<li></li> You can now override the <code>readline()</code> builtin, and this 
overrides also the &lt;FILEHANDLE&gt; angle bracket operator.
<p></p> 
<li></li> The command-line options -s and -F are now recognized on the shebang 
(#!) line.
<p></p> 
<li></li> Use of the <code>/c</code> match modifier without an accompanying 
<code>/g</code> modifier elicits a new warning: <code>Use of /c modifier is 
meaningless without /g</code>. Use of <code>/c</code> in substitutions, even 
with<code>/g</code>, elicits <code>Use of /c modifier is meaningless in s///
</code>. Use of <code>/g</code> with <code>split</code> elicits <code></code>
Use of /g modifier is meaningless in split&gt;.
<p></p> 
<li></li> Support for the <code>CLONE</code> special subroutine had been 
added. With ithreads, when a new thread is created, all Perl data is cloned, 
however non-Perl data cannot be cloned automatically. In<code>CLONE</code> you 
can do whatever you need to do, like for example handle the cloning of non-Perl 
data, if necessary.<code>CLONE</code> will be executed once for every package 
that has it defined or inherited. It will be called in the context of the new 
thread, so all modifications are made in the new area. Seethe perlmod manpage 
</ul> 
<p> voltar para o topo </p> 
<h1> Modules and Pragmata </h1> 
<h2> New Modules and Pragmata </h2> 
<ul> 
<p></p> 
<li></li> <code>Attribute::Handlers</code>, originally by Damian Conway and 
now maintained by Arthur Bergman, allows a class to define attribute handlers.
<pre> package MyPack;</pre> 
<pre> use Attribute::Handlers;</pre> 
<pre> sub Wolf :ATTR(SCALAR) { print &quot;howl!\n&quot; }</pre> 
<pre> # later, in some package using or inheriting from MyPack...</pre> 
<pre> my MyPack $Fluffy : Wolf; # the attribute handler Wolf will be called
</pre> Both variables and routines can have attribute handlers. Handlers can be 
specific to type (SCALAR, ARRAY, HASH, or CODE), or specific to the exact 
compilation phase (BEGIN, CHECK, INIT, or END). Seethe Attribute::Handlers 
manpage. 
<p></p> 
<li></li> <code>B::Concise</code>, by Stephen McCamant? , is a new compiler 
backend for walking the Perl syntax tree, printing concise info about ops. The 
output is highly customisable. Seethe B::Concise manpage. [561+] 
<p></p> 
<li></li> The new bignum, bigint, and bigrat pragmas, by Tels, implement 
transparent bignum support (using the Math::BigInt, Math::BigFloat, and 
Math::BigRat backends).
<p></p> 
<li></li> <code>Class::ISA</code>, by Sean Burke, is a module for reporting 
the search path for a class's ISA tree. Seethe Class::ISA manpage. 
<p></p> 
<li></li> <code>Cwd</code> now has a split personality: if possible, an XS 
extension is used, (this will hopefully be faster, more secure, and more 
robust) but if not possible, the familiar Perl implementation is used.
<p></p> 
<li></li> <code>Devel::PPPort</code>, originally by Kenneth Albanowski and now 
maintained by Paul Marquess, has been added. It is primarily used by<code>h2xs
</code> to enhance portability of XS modules between different versions of 
Perl. Seethe Devel::PPPort manpage. 
<p></p> 
<li></li> <code>Digest</code>, frontend module for calculating digests 
(checksums), from Gisle Aas, has been added. Seethe Digest manpage. 
<p></p> 
<li></li> <code>Digest::MD5</code> for calculating MD5 digests (checksums) as 
defined in RFC 1321, from Gisle Aas, has been added. Seethe Digest::MD5 manpage.
<pre> use Digest::MD5 'md5_hex';</pre> 
<pre> $digest = md5_hex(&quot;Thirsty Camel&quot;);</pre> 
<pre> print $digest, &quot;\n&quot;; # 01d19d9d2045e005c3f1b80e8b164de1</pre> 
NOTE: the<code>MD5</code> backward compatibility module is deliberately not 
included since its further use is discouraged. See alsothe PerlIO ? 
::via::QuotedPrint manpage.
<p></p> 
<li></li> <code>Encode</code>, originally by Nick Ing-Simmons and now 
maintained by Dan Kogai, provides a mechanism to translate between different 
character encodings. Support for Unicode, ISO-8859-1, and ASCII are compiled in 
to the module. Several other encodings (like the rest of the ISO-8859, 
CP*/Win*, Mac, KOI8-R, three variants EBCDIC, Chinese, Japanese, and Korean 
encodings) are included and can be loaded at runtime. (For space 
considerations, the largest Chinese encodings have been separated into their 
own CPAN module, Encode::HanExtra, which Encode will use if available). Seethe 
Encode manpage. Any encoding supported by Encode module is also available to 
the ``:encoding()'' layer ifPerlIO? is used. 
<p></p> 
<li></li> <code>Hash::Util</code> is the interface to the new <em>restricted 
hashes</em> feature. (Implemented by Jeffrey Friedl, Nick Ing-Simmons, and 
Michael Schwern.) Seethe Hash::Util manpage. 
<p></p> 
<li></li> <code>I18N::Langinfo</code> can be used to query locale information. 
Seethe I18N ? ::Langinfo manpage. 
<p></p> 
<li></li> <code>I18N::LangTags</code>, by Sean Burke, has functions for 
dealing with RFC3066-style language tags. Seethe I18N ? ::LangTags manpage. 
<p></p> 
<li></li> <code>ExtUtils::Constant</code>, by Nicholas Clark, is a new tool 
for extension writers for generating XS code to import C header constants. See
theExtUtils ? ::Constant manpage. 
<p></p> 
<li></li> <code>Filter::Simple</code>, by Damian Conway, is an easy-to-use 
frontend to Filter::Util::Call. Seethe Filter::Simple manpage. 
<pre> # in MyFilter.pm:</pre> 
<pre> package MyFilter;</pre> 
<pre> use Filter::Simple sub {</pre> 
<pre> while (my ($from, $to) = splice @_, 0, 2) {</pre> 
<pre> s/$from/$to/g;</pre> 
<pre> }</pre> 
<pre> };</pre> 
<pre> 1;</pre> 
<pre> # in user's code:</pre> 
<pre> use MyFilter qr/red/ =&gt; 'green';</pre> 
<pre> print &quot;red\n&quot;; # this code is filtered, will print 
&quot;green\n&quot;</pre> 
<pre> print &quot;bored\n&quot;; # this code is filtered, will print 
&quot;bogreen\n&quot;</pre> 
<pre> no MyFilter;</pre> 
<pre> print &quot;red\n&quot;; # this code is not filtered, will print 
&quot;red\n&quot;</pre> 
<p></p> 
<li></li> <code>File::Temp</code>, by Tim Jenness, allows one to create 
temporary files and directories in an easy, portable, and secure way. Seethe 
File::Temp manpage. [561+] 
<p></p> 
<li></li> <code>Filter::Util::Call</code>, by Paul Marquess, provides you with 
the framework to write<em>source filters</em> in Perl. For most uses, the 
frontend Filter::Simple is to be preferred. Seethe Filter::Util::Call manpage. 
<p></p> 
<li></li> <code>if</code>, by Ilya Zakharevich, is a new pragma for 
conditional inclusion of modules.
<p></p> 
<li></li> the libnet manpage, by Graham Barr, is a collection of perl5 modules 
related to network programming. Seethe Net::FTP manpage, the Net::NNTP manpage, 
the Net::Ping manpage (not part of libnet, but related), the Net::POP3 manpage, 
the Net::SMTP manpage, and the Net::Time manpage. Perl installation leaves 
libnet unconfigured; use<em>libnetcfg</em> to configure it. 
<p></p> 
<li></li> <code>List::Util</code>, by Graham Barr, is a selection of 
general-utility list subroutines, such as sum(), min(), first(), and shuffle(). 
Seethe List::Util manpage. 
<p></p> 
<li></li> <code>Locale::Constants</code>, <code>Locale::Country</code>, <code>
Locale::Currency</code> <code>Locale::Language</code>, and the Locale::Script 
manpage, by Neil Bowers, have been added. They provide the codes for various 
locale standards, such as ``fr'' for France, ``usd'' for US Dollar, and ``ja'' 
for Japanese.
<pre> use Locale::Country;</pre> 
<pre> $country = code2country('jp'); # $country gets 'Japan'</pre> 
<pre> $code = country2code('Norway'); # $code gets 'no'</pre> See the 
Locale::Constants manpage, the Locale::Country manpage, the Locale::Currency 
manpage, and the Locale::Language manpage. 
<p></p> 
<li></li> <code>Locale::Maketext</code>, by Sean Burke, is a localization 
framework. Seethe Locale::Maketext manpage, and the Locale::Maketext::TPJ13 
manpage. The latter is an article about software localization, originally 
published in The Perl Journal #13, and republished here with kind permission.
<p></p> 
<li></li> <code>Math::BigRat</code> for big rational numbers, to accompany 
Math::BigInt and Math::BigFloat, from Tels. Seethe Math::BigRat manpage. 
<p></p> 
<li></li> <code>Memoize</code> can make your functions faster by trading space 
for time, from Mark-Jason Dominus. Seethe Memoize manpage. 
<p></p> 
<li></li> <code>MIME::Base64</code>, by Gisle Aas, allows you to encode data 
in base64, as defined in RFC 2045 -<em></em>MIME (Multipurpose Internet Mail 
Extensions)&gt;.
<pre> use MIME::Base64;</pre> 
<pre> $encoded = encode_base64('Aladdin:open sesame');</pre> 
<pre> $decoded = decode_base64($encoded);</pre> 
<pre> print $encoded, &quot;\n&quot;; # 
&quot;QWxhZGRpbjpvcGVuIHNlc2FtZQ==&quot;</pre> See the MIME::Base64 manpage. 
<p></p> 
<li></li> <code>MIME::QuotedPrint</code>, by Gisle Aas, allows you to encode 
data in quoted-printable encoding, as defined in RFC 2045 -<em></em>MIME 
(Multipurpose Internet Mail Extensions)&gt;.
<pre> use MIME::QuotedPrint;</pre> 
<pre> $encoded = encode_qp(&quot;\xDE\xAD\xBE\xEF&quot;);</pre> 
<pre> $decoded = decode_qp($encoded);</pre> 
<pre> print $encoded, &quot;\n&quot;; # &quot;=DE=AD=BE=EF\n&quot;</pre> 
<pre> print $decoded, &quot;\n&quot;; # &quot;\xDE\xAD\xBE\xEF\n&quot;</pre> 
See alsothe PerlIO ? ::via::QuotedPrint manpage. 
<p></p> 
<li></li> <code>NEXT</code>, by Damian Conway, is a pseudo-class for method 
redispatch. Seethe NEXT manpage. 
<p></p> 
<li></li> <code>open</code> is a new pragma for setting the default I/O layers 
for open().
<p></p> 
<li></li> <code>PerlIO::scalar</code>, by Nick Ing-Simmons, provides the 
implementation of IO to ``in memory'' Perl scalars as discussed above. It also 
serves as an example of a loadablePerlIO? layer. Other future possibilities 
includePerlIO? ::Array and PerlIO? ::Code. See the PerlIO ? ::scalar manpage. 
<p></p> 
<li></li> <code>PerlIO::via</code>, by Nick Ing-Simmons, acts as a PerlIO? 
layer and wrapsPerlIO? layer functionality provided by a class (typically 
implemented in Perl code).
<p></p> 
<li></li> <code>PerlIO::via::QuotedPrint</code>, by Elizabeth Mattijsen, is an 
example of a<code>PerlIO::via</code> class: 
<pre> use PerlIO::via::QuotedPrint;</pre> 
<pre> open($fh,&quot;&gt;:via(QuotedPrint)&quot;,$path);</pre> This will 
automatically convert everything output to<code>$fh</code> to Quoted-Printable. 
Seethe PerlIO ? ::via manpage and the PerlIO ? ::via::QuotedPrint manpage. 
<p></p> 
<li></li> <code>Pod::ParseLink</code>, by Russ Allbery, has been added, to 
parse L&lt;&gt; links in pods as described in the new perlpodspec.
<p></p> 
<li></li> <code>Pod::Text::Overstrike</code>, by Joe Smith, has been added. It 
converts POD data to formatted overstrike text. Seethe Pod::Text::Overstrike 
manpage. [561+] 
<p></p> 
<li></li> <code>Scalar::Util</code> is a selection of general-utility scalar 
subroutines, such as blessed(), reftype(), and tainted(). Seethe Scalar::Util 
manpage. 
<p></p> 
<li></li> <code>sort</code> is a new pragma for controlling the behaviour of 
sort().
<p></p> 
<li></li> <code>Storable</code> gives persistence to Perl data structures by 
allowing the storage and retrieval of Perl data to and from files in a fast and 
compact binary format. Because in effect Storable does serialisation of Perl 
data structures, with it you can also clone deep, hierarchical datastructures. 
Storable was originally created by Raphael Manfredi, but it is now maintained 
by Abhijit Menon-Sen. Storable has been enhanced to understand the two new hash 
features, Unicode keys and restricted hashes. Seethe Storable manpage. 
<p></p> 
<li></li> <code>Switch</code>, by Damian Conway, has been added. Just by saying
<pre> use Switch;</pre> you have <code>switch</code> and <code>case</code> 
available in Perl.
<pre> use Switch;</pre> 
<pre> switch ($val) {</pre> 
<pre> case 1 { print &quot;number 1&quot; }</pre> 
<pre> case &quot;a&quot; { print &quot;string a&quot; }</pre> 
<pre> case [1..10,42] { print &quot;number in list&quot; }</pre> 
<pre> case (@array) { print &quot;number in list&quot; }</pre> 
<pre> case /\w+/ { print &quot;pattern&quot; }</pre> 
<pre> case qr/\w+/ { print &quot;pattern&quot; }</pre> 
<pre> case (%hash) { print &quot;entry in hash&quot; }</pre> 
<pre> case (\%hash) { print &quot;entry in hash&quot; }</pre> 
<pre> case (\&amp;sub) { print &quot;arg to subroutine&quot; }</pre> 
<pre> else { print &quot;previous case not true&quot; }</pre> 
<pre> }</pre> See the Switch manpage. 
<p></p> 
<li></li> <code>Test::More</code>, by Michael Schwern, is yet another 
framework for writing test scripts, more extensive than Test::Simple. Seethe 
Test::More manpage. 
<p></p> 
<li></li> <code>Test::Simple</code>, by Michael Schwern, has basic utilities 
for writing tests. Seethe Test::Simple manpage. 
<p></p> 
<li></li> <code>Text::Balanced</code>, by Damian Conway, has been added, for 
extracting delimited text sequences from strings.
<pre> use Text::Balanced 'extract_delimited';</pre> 
<pre> ($a, $b) = extract_delimited(&quot;'never say never', he never 
said&quot;, &quot;'&quot;, '');</pre> $a will be ``'never say never''', $b will 
be ', he never said'. In addition to extract_delimited(), there are also 
extract_bracketed(), extract_quotelike(), extract_codeblock(), 
extract_variable(), extract_tagged(), extract_multiple(), gen_delimited_pat(), 
and gen_extract_tagged(). With these, you can implement rather advanced parsing 
algorithms. Seethe Text::Balanced manpage. 
<p></p> 
<li></li> <code>threads</code>, by Arthur Bergman, is an interface to 
interpreter threads. Interpreter threads (ithreads) is the new thread model 
introduced in Perl 5.6 but only available as an internal interface for 
extension writers (and for Win32 Perl for<code>fork()</code> emulation). See 
the threads manpage, the threads::shared manpage, and the perlthrtut manpage. 
<p></p> 
<li></li> <code>threads::shared</code>, by Arthur Bergman, allows data sharing 
for interpreter threads. Seethe threads::shared manpage. 
<p></p> 
<li></li> <code>Tie::File</code>, by Mark-Jason Dominus, associates a Perl 
array with the lines of a file. Seethe Tie::File manpage. 
<p></p> 
<li></li> <code>Tie::Memoize</code>, by Ilya Zakharevich, provides on-demand 
loaded hashes. Seethe Tie::Memoize manpage. 
<p></p> 
<li></li> <code>Tie::RefHash::Nestable</code>, by Edward Avis, allows storing 
hash references (unlike the standard Tie::RefHash) The module is contained 
within Tie::RefHash. Seethe Tie::RefHash manpage. 
<p></p> 
<li></li> <code>Time::HiRes</code>, by Douglas E. Wegscheid, provides high 
resolution timing (ualarm, usleep, and gettimeofday). Seethe Time::HiRes manpage
.
<p></p> 
<li></li> <code>Unicode::UCD</code> offers a querying interface to the Unicode 
Character Database. Seethe Unicode::UCD manpage. 
<p></p> 
<li></li> <code>Unicode::Collate</code>, by SADAHIRO Tomoyuki, implements the 
UCA (Unicode Collation Algorithm) for sorting Unicode strings. Seethe 
Unicode::Collate manpage. 
<p></p> 
<li></li> <code>Unicode::Normalize</code>, by SADAHIRO Tomoyuki, implements 
the various Unicode normalization forms. Seethe Unicode::Normalize manpage. 
<p></p> 
<li></li> <code>XS::APItest</code>, by Tim Jenness, is a test extension that 
exercises XS APIs. Currently only<code>printf()</code> is tested: how to output 
various basic data types from XS.
<p></p> 
<li></li> <code>XS::Typemap</code>, by Tim Jenness, is a test extension that 
exercises XS typemaps. Nothing gets installed, but the code is worth studying 
for extension writers.</ul> 
<h2> Updated And Improved Modules and Pragmata </h2> 
<ul> 
<p></p> 
<li></li> The following independently supported modules have been updated to 
the newest versions from CPAN: CGI, CPAN, DB_File, File::Spec, File::Temp, 
Getopt::Long, Math::BigFloat, Math::BigInt, the podlators bundle (Pod::Man, 
Pod::Text), Pod::LaTeX [561+], Pod::Parser, Storable, Term::ANSIColor, Test, 
Text-Tabs+Wrap.
<p></p> 
<li></li> attributes::reftype() now works on tied arguments. 
<p></p> 
<li></li> AutoLoader can now be disabled with <code>no AutoLoader;</code>. 
<p></p> 
<li></li> B::Deparse has been significantly enhanced by Robin Houston. It can 
now deparse almost all of the standard test suite (so that the tests still 
succeed). There is a make target ``test.deparse'' for trying this out.
<p></p> 
<li></li> Carp now has better interface documentation, and the @CARP_NOT 
interface has been added to get optional control over where errors are reported 
independently of @ISA, by Ben Tilly.
<p></p> 
<li></li> Class::Struct can now define the classes in compile time. 
<p></p> 
<li></li> Class::Struct now assigns the array/hash element if the accessor is 
called with an array/hash element as the<strong>sole</strong> argument. 
<p></p> 
<li></li> The return value of Cwd::fastcwd() is now tainted. 
<p></p> 
<li></li> Data::Dumper now has an option to sort hashes. 
<p></p> 
<li></li> Data::Dumper now has an option to dump code references using 
B::Deparse.
<p></p> 
<li></li> DB_File now supports newer Berkeley DB versions, among other 
improvements.
<p></p> 
<li></li> Devel::Peek now has an interface for the Perl memory statistics 
(this works only if you are using perl's malloc, and if you have compiled with 
debugging).
<p></p> 
<li></li> The English module can now be used without the infamous performance 
hit by saying
<pre> use English '-no_match_vars';</pre> (Assuming, of course, that you don't 
need the troublesome variables<code>$`</code>, <code>$&amp;</code>, or <code>$'
</code>.) Also, introduced <code>@LAST_MATCH_START</code> and <code>
@LAST_MATCH_END</code> English aliases for <code>@-</code> and <code>@+</code>. 
<p></p> 
<li></li> ExtUtils? ::MakeMaker has been significantly cleaned up and fixed. 
The enhanced version has also been backported to earlier releases of Perl and 
submitted to CPAN so that the earlier releases can enjoy the fixes.
<p></p> 
<li></li> The arguments of <code>WriteMakefile()</code> in Makefile.PL are now 
checked for sanity much more carefully than before. This may cause new warnings 
when modules are being installed. Seethe ExtUtils ? ::MakeMaker manpage for 
more details.
<p></p> 
<li></li> ExtUtils? ::MakeMaker now uses File::Spec internally, which 
hopefully leads to better portability.
<p></p> 
<li></li> Fcntl, Socket, and Sys::Syslog have been rewritten by Nicholas Clark 
to use the new-style constant dispatch section (seethe ExtUtils ? ::Constant 
manpage). This means that they will be more robust and hopefully faster.
<p></p> 
<li></li> File::Find now chdir()s correctly when chasing symbolic links. [561] 
<p></p> 
<li></li> File::Find now has pre- and post-processing callbacks. It also 
correctly changes directories when chasing symbolic links. Callbacks 
(naughtily) exiting with ``next;'' instead of ``return;'' now work.
<p></p> 
<li></li> File::Find is now (again) reentrant. It also has been made more 
portable.
<p></p> 
<li></li> The warnings issued by File::Find now belong to their own category. 
You can enable/disable them with<code>use/no warnings 'File::Find';</code>. 
<p></p> 
<li></li> File::Glob::glob() has been renamed to File::Glob::bsd_glob() 
because the name clashes with the builtin glob(). The older name is still 
available for compatibility, but is deprecated. [561]
<p></p> 
<li></li> File::Glob now supports <code>GLOB_LIMIT</code> constant to limit 
the size of the returned list of filenames.
<p></p> 
<li></li> IPC::Open3 now allows the use of numeric file descriptors. 
<p></p> 
<li></li> IO::Socket now has an <code>atmark()</code> method, which returns 
true if the socket is positioned at the out-of-band mark. The method is also 
exportable as a<code>sockatmark()</code> function. 
<p></p> 
<li></li> IO::Socket::INET failed to open the specified port if the service 
name was not known. It now correctly uses the supplied port number as is. [561]
<p></p> 
<li></li> IO::Socket::INET has support for the ReusePort? option (if your 
platform supports it). The Reuse option now has an alias,ReuseAddr? . For 
clarity, you may want to preferReuseAddr? . 
<p></p> 
<li></li> IO::Socket::INET now supports a value of zero for <code>LocalPort
</code> (usually meaning that the operating system will make one up.) 
<p></p> 
<li></li> 'use lib' now works identically to @INC. Removing directories with 
'no lib' now works.
<p></p> 
<li></li> Math::BigFloat and Math::BigInt have undergone a full rewrite by 
Tels. They are now magnitudes faster, and they support various bignum libraries 
such as GMP and PARI as their backends.
<p></p> 
<li></li> Math::Complex handles inf, NaN? etc., better. 
<p></p> 
<li></li> Net::Ping has been considerably enhanced by Rob Brown: multihoming 
is now supported, Win32 functionality is better, there is now time measuring 
functionality (optionally high-resolution using Time::HiRes), and there is now 
``external'' protocol which uses Net::Ping::External module which runs your 
external ping utility and parses the output. A version of Net::Ping::External 
is available in CPAN. Note that some of the Net::Ping tests are disabled when 
running under the Perl distribution since one cannot assume one or more of the 
following: enabled echo port at localhost, full Internet connectivity, or 
sympathetic firewalls. You can set the environment variable PERL_TEST_Net_Ping 
to ``1'' (one) before running the Perl test suite to enable all the Net::Ping 
tests.
<p></p> 
<li></li> POSIX::sigaction() is now much more flexible and robust. You can now 
install coderef handlers, 'DEFAULT', and 'IGNORE' handlers, installing new 
handlers was not atomic.
<p></p> 
<li></li> In Safe, <code>%INC</code> is now localised in a Safe compartment so 
that use/require work.
<p></p> 
<li></li> In SDBM_File on dosish platforms, some keys went missing because of 
lack of support for files with ``holes''. A workaround for the problem has been 
added.
<p></p> 
<li></li> In Search::Dict one can now have a pre-processing hook for the lines 
being searched.
<p></p> 
<li></li> The Shell module now has an OO interface. 
<p></p> 
<li></li> In Sys::Syslog there is now a failover mechanism that will go 
through alternative connection mechanisms until the message is successfully 
logged.
<p></p> 
<li></li> The Test module has been significantly enhanced. 
<p></p> 
<li></li> Time::Local::timelocal() does not handle fractional seconds anymore. 
The rationale is that neither does localtime(), and<code>timelocal()</code> and 
<code>localtime()</code> are supposed to be inverses of each other. 
<p></p> 
<li></li> The vars pragma now supports declaring fully qualified variables. 
(Something that<code>our()</code> does not and will not support.) 
<p></p> 
<li></li> The <code>utf8::</code> name space (as in the pragma) provides 
various Perl-callable functions to provide low level access to Perl's internal 
Unicode representation. At the moment only<code>length()</code> has been 
implemented.</ul> 
<p> voltar para o topo </p> 
<h1> Utility Changes </h1> 
<ul> 
<p></p> 
<li></li> Emacs perl mode (emacs/cperl-mode.el) has been updated to version 
4.31.
<p></p> 
<li></li> <em>emacs/e2ctags.pl</em> is now much faster. 
<p></p> 
<li></li> <code>enc2xs</code> is a tool for people adding their own encodings 
to the Encode module.
<p></p> 
<li></li> <code>h2ph</code> now supports C trigraphs. 
<p></p> 
<li></li> <code>h2xs</code> now produces a template README. 
<p></p> 
<li></li> <code>h2xs</code> now uses <code>Devel::PPPort</code> for better 
portability between different versions of Perl.
<p></p> 
<li></li> <code>h2xs</code> uses the new ExtUtils::Constant module which will 
affect newly created extensions that define constants. Since the new code is 
more correct (if you have two constants where the first one is a prefix of the 
second one, the first constant<strong>never</strong> got defined), less lossy 
(it uses integers for integer constant, as opposed to the old code that used 
floating point numbers even for integer constants), and slightly faster, you 
might want to consider regenerating your extension code (the new scheme makes 
regenerating easy).the h2xs manpage now also supports C trigraphs. 
<p></p> 
<li></li> <code>libnetcfg</code> has been added to configure libnet. 
<p></p> 
<li></li> <code>perlbug</code> is now much more robust. It also sends the bug 
report to perl.org, not perl.com.
<p></p> 
<li></li> <code>perlcc</code> has been rewritten and its user interface (that 
is, command line) is much more like that of the UNIX C compiler, cc. (The 
perlbc tools has been removed. Use<code>perlcc -B</code> instead.) <strong>
</strong>Note that perlcc is still considered very experimental and 
unsupported.&gt; [561]
<p></p> 
<li></li> <code>perlivp</code> is a new Installation Verification Procedure 
utility for running any time after installing Perl.
<p></p> 
<li></li> <code>piconv</code> is an implementation of the character conversion 
utility<code>iconv</code>, demonstrating the new Encode module. 
<p></p> 
<li></li> <code>pod2html</code> now allows specifying a cache directory. 
<p></p> 
<li></li> <code>pod2html</code> now produces XHTML 1.0. 
<p></p> 
<li></li> <code>pod2html</code> now understands POD written using different 
line endings (PC-like CRLF versus UNIX-like LF versusMacClassic? -like CR). 
<p></p> 
<li></li> <code>s2p</code> has been completely rewritten in Perl. (It is in 
fact a full implementation of sed in Perl: you can use the sed functionality by 
using the<code>psed</code> utility.) 
<p></p> 
<li></li> <code>xsubpp</code> now understands POD documentation embedded in 
the *.xs files. [561]
<p></p> 
<li></li> <code>xsubpp</code> now supports the OUT keyword. </ul> 
<p> voltar para o topo </p> 
<h1> New Documentation </h1> 
<ul> 
<p></p> 
<li></li> perl56delta details the changes between the 5.005 release and the 
5.6.0 release.
<p></p> 
<li></li> perlclib documents the internal replacements for standard C library 
functions. (Interesting only for extension writers and Perl core hackers.) 
[561+]
<p></p> 
<li></li> perldebtut is a Perl debugging tutorial. [561+] 
<p></p> 
<li></li> perlebcdic contains considerations for running Perl on EBCDIC 
platforms. [561+]
<p></p> 
<li></li> perlintro is a gentle introduction to Perl. 
<p></p> 
<li></li> perliol documents the internals of PerlIO? with layers. 
<p></p> 
<li></li> perlmodstyle is a style guide for writing modules. 
<p></p> 
<li></li> perlnewmod tells about writing and submitting a new module. [561+] 
<p></p> 
<li></li> perlpacktut is a <code>pack()</code> tutorial. 
<p></p> 
<li></li> perlpod has been rewritten to be clearer and to record the best 
practices gathered over the years.
<p></p> 
<li></li> perlpodspec is a more formal specification of the pod format, mainly 
of interest for writers of pod applications, not to people writing in pod.
<p></p> 
<li></li> perlretut is a regular expression tutorial. [561+] 
<p></p> 
<li></li> perlrequick is a regular expressions quick-start guide. Yes, much 
quicker than perlretut. [561]
<p></p> 
<li></li> perltodo has been updated. 
<p></p> 
<li></li> perltootc has been renamed as perltooc (to not to conflict with 
perltoot in filesystems restricted to ``8.3'' names).
<p></p> 
<li></li> perluniintro is an introduction to using Unicode in Perl. 
(perlunicode is more of a detailed reference and background information)
<p></p> 
<li></li> perlutil explains the command line utilities packaged with the Perl 
distribution. [561+]</ul> The following platform-specific documents are 
available before the installation as README.<em>platform</em>, and after the 
installation as perl<em>platform</em>: 
<pre> perlaix perlamiga perlapollo perlbeos perlbs2000</pre> 
<pre> perlce perlcygwin perldgux perldos perlepoc perlfreebsd perlhpux</pre> 
<pre> perlhurd perlirix perlmachten perlmacos perlmint perlmpeix</pre> 
<pre> perlnetware perlos2 perlos390 perlplan9 perlqnx perlsolaris</pre> 
<pre> perltru64 perluts perlvmesa perlvms perlvos perlwin32</pre> These 
documents usually detail one or more of the following subjects: configuring, 
building, testing, installing, and sometimes also using Perl on the said 
platform. Eastern Asian Perl users are now welcomed in their own languages: 
README.jp (Japanese), README.ko (Korean), README.cn (simplified Chinese) and 
README.tw (traditional Chinese), which are written in normal pod but encoded in 
EUC-JP, EUC-KR, EUC-CN and Big5. These will get installed as
<pre> perljp perlko perlcn perltw</pre> 
<ul> 
<p></p> 
<li></li> The documentation for the POSIX-BC platform is called ``BS2000'', to 
avoid confusion with the Perl POSIX module.
<p></p> 
<li></li> The documentation for the WinCE? platform is called perlce 
(README.ce in the source code kit), to avoid confusion with the perlwin32 
documentation on 8.3-restricted filesystems.</ul> 
<p> voltar para o topo </p> 
<h1> Performance Enhancements </h1> 
<ul> 
<p></p> 
<li></li> <code>map()</code> could get pathologically slow when the result 
list it generates is larger than the source list. The performance has been 
improved for common scenarios. [561]
<p></p> 
<li></li> <code>sort()</code> is also fully reentrant, in the sense that the 
sort function can itself call sort(). This did not work reliably in previous 
releases. [561]
<p></p> 
<li></li> <code>sort()</code> has been changed to use primarily mergesort 
internally as opposed to the earlier quicksort. For very small lists this may 
result in slightly slower sorting times, but in general the speedup should be 
at least 20%. Additional bonuses are that the worst case behaviour of<code>
sort()</code> is now better (in computer science terms it now runs in time O(N 
log N), as opposed to quicksort's<code>Theta(N**2)</code> worst-case run time 
behaviour), and that<code>sort()</code> is now stable (meaning that elements 
with identical keys will stay ordered as they were before the sort). See the
<code>sort</code> pragma for information. The story in more detail: suppose you 
want to serve yourself a little slice of Pi.
<pre> @digits = ( 3,1,4,1,5,9 );</pre> A numerical sort of the digits will 
yield (1,1,3,4,5,9), as expected. Which<code>1</code> comes first is hard to 
know, since one<code>1</code> looks pretty much like any other. You can regard 
this as totally trivial, or somewhat profound. However, if you just want to 
sort the even digits ahead of the odd ones, then what will
<pre> sort { ($a % 2) &lt;=&gt; ($b % 2) } @digits;</pre> yield? The only even 
digit,<code>4</code>, will come first. But how about the odd numbers, which all 
compare equal? With the quicksort algorithm used to implement Perl 5.6 and 
earlier, the order of ties is left up to the sort. So, as you add more and more 
digits of Pi, the order in which the sorted even and odd digits appear will 
change. and, for sufficiently large slices of Pi, the quicksort algorithm in 
Perl 5.8 won't return the same results even if reinvoked with the same input. 
The justification for this rests with quicksort's worst case behavior. If you 
run
<pre> sort { $a &lt;=&gt; $b } ( 1 .. $N , 1 .. $N );</pre> (something you 
might approximate if you wanted to merge two sorted arrays using sort), 
doubling $N doesn't just double the quicksort time, it<em>quadruples</em> it. 
Quicksort has a worst case run time that can grow like N**2, so-called<em>
quadratic</em> behaviour, and it can happen on patterns that may well arise in 
normal use. You won't notice this for small arrays, but you<em>will</em> notice 
it with larger arrays, and you may not live long enough for the sort to 
complete on arrays of a million elements. So the 5.8 quicksort scrambles large 
arrays before sorting them, as a statistical defence against quadratic 
behaviour. But that means if you sort the same large array twice, ties may be 
broken in different ways. Because of the unpredictability of tie-breaking 
order, and the quadratic worst-case behaviour, quicksort was<em>almost</em> 
replaced completely with a stable mergesort.<em>Stable</em> means that ties are 
broken to preserve the original order of appearance in the input array. So
<pre> sort { ($a % 2) &lt;=&gt; ($b % 2) } (3,1,4,1,5,9);</pre> will yield 
(4,3,1,1,5,9), guaranteed. The even and odd numbers appear in the output in the 
same order they appeared in the input. Mergesort has worst case O(N log N) 
behaviour, the best value attainable. And, ironically, this mergesort does 
particularly well where quicksort goes quadratic: mergesort sorts (1..$N, 
1..$N) in<code>O(N)</code> time. But quicksort was rescued at the last moment 
because it is faster than mergesort on certain inputs and platforms. For 
example, if you really<em>don't</em> care about the order of even and odd 
digits, quicksort will run in<code>O(N)</code> time; it's very good at sorting 
many repetitions of a small number of distinct elements. The quicksort divide 
and conquer strategy works well on platforms with relatively small, very fast, 
caches. Eventually, the problem gets whittled down to one that fits in the 
cache, from which point it benefits from the increased memory speed. Quicksort 
was rescued by implementing a sort pragma to control aspects of the sort. The
<strong>stable</strong> subpragma forces stable behaviour, regardless of 
algorithm. The<strong>_quicksort</strong> and <strong>_mergesort</strong> 
subpragmas are heavy-handed ways to select the underlying implementation. The 
leading<code>_</code> is a reminder that these subpragmas may not survive 
beyond 5.8. More appropriate mechanisms for selecting the implementation exist, 
but they wouldn't have arrived in time to save quicksort.
<p></p> 
<li></li> Hashes now use Bob Jenkins ``One-at-a-Time'' hashing key algorithm ( 
http://burtleburtle.net/bob/hash/doobs.html ). This algorithm is reasonably 
fast while producing a much better spread of values than the old hashing 
algorithm (originally by Chris Torek, later tweaked by Ilya Zakharevich). Hash 
values output from the algorithm on a hash of all 3-char printable ASCII keys 
comes much closer to passing the DIEHARD random number generation tests. 
According to perlbench, this change has not affected the overall speed of Perl.
<p></p> 
<li></li> <code>unshift()</code> should now be noticeably faster. </ul> 
<p> voltar para o topo </p> 
<h1> Installation and Configuration Improvements </h1> 
<h2> Generic Improvements </h2> 
<ul> 
<p></p> 
<li></li> INSTALL now explains how you can configure Perl to use 64-bit 
integers even on non-64-bit platforms.
<p></p> 
<li></li> Policy.sh policy change: if you are reusing a Policy.sh file (see 
INSTALL) and you use Configure -Dprefix=/foo/bar and in the old Policy $prefix 
eq $siteprefix and $prefix eq $vendorprefix, all of them will now be changed to 
the new prefix, /foo/bar. (Previously only $prefix changed.) If you do not like 
this new behaviour, specify prefix, siteprefix, and vendorprefix explicitly.
<p></p> 
<li></li> A new optional location for Perl libraries, otherlibdirs, is 
available. It can be used for example for vendor add-ons without disturbing 
Perl's own library directories.
<p></p> 
<li></li> In many platforms, the vendor-supplied 'cc' is too stripped-down to 
build Perl (basically, 'cc' doesn't do ANSI C). If this seems to be the case 
and 'cc' does not seem to be the GNU C compiler 'gcc', an automatic attempt is 
made to find and use 'gcc' instead.
<p></p> 
<li></li> gcc needs to closely track the operating system release to avoid 
build problems. If Configure finds that gcc was built for a different operating 
system release than is running, it now gives a clearly visible warning that 
there may be trouble ahead.
<p></p> 
<li></li> Since Perl 5.8 is not binary-compatible with previous releases of 
Perl, Configure no longer suggests including the 5.005 modules in @INC.
<p></p> 
<li></li> Configure <code>-S</code> can now run non-interactively. [561] 
<p></p> 
<li></li> Configure support for pdp11-style memory models has been removed due 
to obsolescence. [561]
<p></p> 
<li></li> configure.gnu now works with options with whitespace in them. 
<p></p> 
<li></li> installperl now outputs everything to STDERR. 
<p></p> 
<li></li> Because PerlIO? is now the default on most platforms, ``-perlio'' 
doesn't get appended to the $Config{archname} (also known as $^O) anymore. 
Instead, if you explicitly choose not to use perlio (Configure command line 
option -Uuseperlio), you will get ``-stdio'' appended.
<p></p> 
<li></li> Another change related to the architecture name is that ``-64all'' 
(-Duse64bitall, or ``maximally 64-bit'') is appended only if your pointers are 
64 bits wide. (To be exact, the use64bitall is ignored.)
<p></p> 
<li></li> In AFS installations, one can configure the root of the AFS to be 
somewhere else than the default<em>/afs</em> by using the Configure parameter 
<code>-Dafsroot=/some/where/else</code>. 
<p></p> 
<li></li> APPLLIB_EXP, a lesser-known configuration-time definition, has been 
documented. It can be used to prepend site-specific directories to Perl's 
default search path (@INC); see INSTALL for information.
<p></p> 
<li></li> The version of Berkeley DB used when the Perl (and, presumably, the 
DB_File extension) was built is now available as<code>
@Config{qw(db_version_major db_version_minor db_version_patch)}</code> from 
Perl and as<code></code>DB_VERSION_MAJOR_CFG DB_VERSION_MINOR_CFG 
DB_VERSION_PATCH_CFG&gt; from C.
<p></p> 
<li></li> Building Berkeley DB3 for compatibility modes for DB, NDBM, and ODBM 
has been documented in INSTALL.
<p></p> 
<li></li> If you have CPAN access (either network or a local copy such as a 
CD-ROM) you can during specify extra modules to Configure to build and install 
with Perl using the -Dextras=... option. See INSTALL for more details.
<p></p> 
<li></li> In addition to config.over, a new override file, config.arch, is 
available. This file is supposed to be used by hints file writers for 
architecture-wide changes (as opposed to config.over which is for site-wide 
changes).
<p></p> 
<li></li> If your file system supports symbolic links, you can build Perl 
outside of the source directory by
<pre> mkdir perl/build/directory</pre> 
<pre> cd perl/build/directory</pre> 
<pre> sh /path/to/perl/source/Configure -Dmksymlinks ...</pre> This will 
create in perl/build/directory a tree of symbolic links pointing to files in 
/path/to/perl/source. The original files are left unaffected. After Configure 
has finished, you can just say
<pre> make all test</pre> and Perl will be built and tested, all in 
perl/build/directory. [561]
<p></p> 
<li></li> For Perl developers, several new make targets for profiling and 
debugging have been added; seethe perlhack manpage. 
<ul> 
<p></p> 
<li></li> Use of the <em>gprof</em> tool to profile Perl has been documented in
the perlhack manpage. There is a make target called ``perl.gprof'' for 
generating a gprofiled Perl executable.
<p></p> 
<li></li> If you have GCC 3, there is a make target called ``perl.gcov'' for 
creating a gcoved Perl executable for coverage analysis. Seethe perlhack manpage
.
<p></p> 
<li></li> If you are on IRIX or Tru64 platforms, new profiling/debugging 
options have been added; seethe perlhack manpage for more information about 
pixie and Third Degree.</ul> 
<p></p> 
<li></li> Guidelines of how to construct minimal Perl installations have been 
added to INSTALL.
<p></p> 
<li></li> The Thread extension is now not built at all under ithreads ( <code>
Configure -Duseithreads</code>) because it wouldn't work anyway (the Thread 
extension requires being Configured with<code>-Duse5005threads</code>). <strong>
</strong>Note that the 5.005 threads are unsupported and deprecated: if you 
have code written for the old threads you should migrate it to the new ithreads 
model.&gt;
<p></p> 
<li></li> The Gconvert macro ($Config{d_Gconvert}) used by perl for 
stringifying floating-point numbers is now more picky about using sprintf %.*g 
rules for the conversion. Some platforms that used to use gcvt may now resort 
to the slower sprintf.
<p></p> 
<li></li> The obsolete method of making a special (e.g., debugging) flavor of 
perl by saying
<pre> make LIBPERL=libperld.a</pre> has been removed. Use -DDEBUGGING instead. 
</ul> 
<h2> New Or Improved Platforms </h2> For the list of platforms known to 
support Perl, seeSupported Platforms in the perlport manpage. 
<ul> 
<p></p> 
<li></li> AIX dynamic loading should be now better supported. 
<p></p> 
<li></li> AIX should now work better with gcc, threads, and 64-bitness. Also 
the long doubles support in AIX should be better now. Seethe perlaix manpage. 
<p></p> 
<li></li> AtheOS? ( http://www.atheos.cx/ ) is a new platform. 
<p></p> 
<li></li> BeOS? has been reclaimed. 
<p></p> 
<li></li> The DG/UX platform now supports 5.005-style threads. See the 
perldgux manpage. 
<p></p> 
<li></li> The DYNIX/ptx platform (also known as dynixptx) is supported at or 
near osvers 4.5.2.
<p></p> 
<li></li> EBCDIC platforms (z/OS (also known as OS/390), POSIX-BC, and VM/ESA) 
have been regained. Many test suite tests still fail and the co-existence of 
Unicode and EBCDIC isn't quite settled, but the situation is much better than 
with Perl 5.6. Seethe perlos390 manpage, the perlbs2000 manpage (for POSIX-BC), 
andthe perlvmesa manpage for more information. 
<p></p> 
<li></li> Building perl with -Duseithreads or -Duse5005threads now works under 
HP-UX 10.20 (previously it only worked under 10.30 or later). You will need a 
thread library package installed. See README.hpux. [561]
<p></p> 
<li></li> Mac OS Classic is now supported in the mainstream source package ( 
MacPerl? has of course been available since perl 5.004 but now the source code 
bases of standard Perl andMacPerl? have been synchronised) [561] 
<p></p> 
<li></li> Mac OS X (or Darwin) should now be able to build Perl even on HFS+ 
filesystems. (The case-insensitivity used to confuse the Perl build process.)
<p></p> 
<li></li> NCR MP-RAS is now supported. [561] 
<p></p> 
<li></li> All the NetBSD? specific patches (except for the installation 
specific ones) have been merged back to the main distribution.
<p></p> 
<li></li> NetWare? from Novell is now supported. See the perlnetware manpage. 
<p></p> 
<li></li> NonStop? -UX is now supported. [561] 
<p></p> 
<li></li> NEC SUPER-UX is now supported. 
<p></p> 
<li></li> All the OpenBSD? specific patches (except for the installation 
specific ones) have been merged back to the main distribution.
<p></p> 
<li></li> Perl has been tested with the GNU pth userlevel thread package ( 
http://www.gnu.org/software/pth/pth.html ). All thread tests of Perl now work, 
but not without adding some yield()s to the tests, so while pth (and other 
userlevel thread implementations) can be considered to be ``working'' with Perl 
ithreads, keep in mind the possible non-preemptability of the underlying thread 
implementation.
<p></p> 
<li></li> Stratus VOS is now supported using Perl's native build method 
(Configure). This is the recommended method to build Perl on VOS. The older 
methods, which build miniperl, are still available. Seethe perlvos manpage. 
[561+]
<p></p> 
<li></li> The Amdahl UTS UNIX mainframe platform is now supported. [561] 
<p></p> 
<li></li> WinCE? is now supported. See the perlce manpage. 
<p></p> 
<li></li> z/OS (formerly known as OS/390, formerly known as MVS OE) now has 
support for dynamic loading. This is not selected by default, however, you must 
specify -Dusedl in the arguments of Configure. [561]</ul> 
<p> voltar para o topo </p> 
<h1> Selected Bug Fixes </h1> Numerous memory leaks and uninitialized memory 
accesses have been hunted down. Most importantly, anonymous subs used to leak 
quite a bit. [561]
<ul> 
<p></p> 
<li></li> The autouse pragma didn't work for Multi::Part::Function::Names. 
<p></p> 
<li></li> <code>caller()</code> could cause core dumps in certain situations. 
Carp was sometimes affected by this problem. In particular,<code>caller()</code>
 now returns a subroutine name of<code>(unknown)</code> for subroutines that 
have been removed from the symbol table.
<p></p> 
<li></li> <code>chop(@list)</code> in list context returned the characters 
chopped in reverse order. This has been reversed to be in the right order. [561]
<p></p> 
<li></li> Configure no longer includes the DBM libraries (dbm, gdbm, db, ndbm) 
when building the Perl binary. The only exception to this isSunOS? 4.x, which 
needs them. [561]
<p></p> 
<li></li> The behaviour of non-decimal but numeric string constants such as 
``0x23'' was platform-dependent: in some platforms that was seen as 35, in some 
as 0, in some as a floating point number (don't ask). This was caused by Perl's 
using the operating system libraries in a situation where the result of the 
string to number conversion is undefined: now Perl consistently handles such 
strings as zero in numeric contexts.
<p></p> 
<li></li> Several debugger fixes: exit code now reflects the script exit code, 
condition<code>&quot;0&quot;</code> now treated correctly, the <code>d</code> 
command now checks line number,<code>$.</code> no longer gets corrupted, and 
all debugger output now goes correctly to the socket ifRemotePort? is set. [561]
<p></p> 
<li></li> The debugger (perl5db.pl) has been modified to present a more 
consistent commands interface, via (CommandSet? =580). perl5db.t was also added 
to test the changes, and as a placeholder for further tests. Seethe perldebug 
manpage. 
<p></p> 
<li></li> The debugger has a new <code>dumpDepth</code> option to control the 
maximum depth to which nested structures are dumped. The<code>x</code> command 
has been extended so that<code>x N EXPR</code> dumps out the value of <em>EXPR
</em> to a depth of at most <em>N</em> levels. 
<p></p> 
<li></li> The debugger can now show lexical variables if you have the CPAN 
modulePadWalker? installed. 
<p></p> 
<li></li> The order of DESTROYs has been made more predictable. 
<p></p> 
<li></li> Perl 5.6.0 could emit spurious warnings about redefinition of <code>
dl_error()</code> when statically building extensions into perl. This has been 
corrected. [561]
<p></p> 
<li></li> the dprofpp manpage -R didn't work. 
<p></p> 
<li></li> <code>*foo{FORMAT}</code> now works. 
<p></p> 
<li></li> Infinity is now recognized as a number. 
<p></p> 
<li></li> UNIVERSAL::isa no longer caches methods incorrectly. (This broke the 
Tk extension with 5.6.0.) [561]
<p></p> 
<li></li> Lexicals I: lexicals outside an eval ``'' weren't resolved correctly 
inside a subroutine definition inside the eval ``'' if they were not already 
referenced in the top level of the eval``''ed code.
<p></p> 
<li></li> Lexicals II: lexicals leaked at file scope into subroutines that 
were declared before the lexicals.
<p></p> 
<li></li> Lexical warnings now propagating correctly between scopes and into 
<code>eval &quot;...&quot;</code>. 
<p></p> 
<li></li> <code>use warnings qw(FATAL all)</code> did not work as intended. 
This has been corrected. [561]
<p></p> 
<li></li> warnings::enabled() now reports the state of $^W correctly if the 
caller isn't using lexical warnings. [561]
<p></p> 
<li></li> Line renumbering with eval and <code>#line</code> now works. [561] 
<p></p> 
<li></li> Fixed numerous memory leaks, especially in eval ``''. 
<p></p> 
<li></li> Localised tied variables no longer leak memory 
<pre> use Tie::Hash;</pre> 
<pre> tie my %tied_hash =&gt; 'Tie::StdHash';</pre> 
<pre> ...</pre> 
<pre> # Used to leak memory every time local() was called;</pre> 
<pre> # in a loop, this added up.</pre> 
<pre> local($tied_hash{Foo}) = 1;</pre> 
<p></p> 
<li></li> Localised hash elements (and %ENV) are correctly unlocalised to not 
exist, if they didn't before they were localised.
<pre> use Tie::Hash;</pre> 
<pre> tie my %tied_hash =&gt; 'Tie::StdHash';</pre> 
<pre> ...</pre> 
<pre> # Nothing has set the FOO element so far</pre> 
<pre> { local $tied_hash{FOO} = 'Bar' }</pre> 
<pre> # This used to print, but not now.</pre> 
<pre> print &quot;exists!\n&quot; if exists $tied_hash{FOO};</pre> As a side 
effect of this fix, tied hash interfaces<strong>must</strong> define the EXISTS 
and DELETE methods.
<p></p> 
<li></li> <code>mkdir()</code> now ignores trailing slashes in the directory 
name, as mandated by POSIX.
<p></p> 
<li></li> Some versions of glibc have a broken modfl(). This affects builds 
with<code>-Duselongdouble</code>. This version of Perl detects this brokenness 
and has a workaround for it. The glibc release 2.2.2 is known to have fixed the
<code>modfl()</code> bug. 
<p></p> 
<li></li> Modulus of unsigned numbers now works (4063328477 % 65535 used to 
return 27406, instead of 27047). [561]
<p></p> 
<li></li> Some ``not a number'' warnings introduced in 5.6.0 eliminated to be 
more compatible with 5.005. Infinity is now recognised as a number. [561]
<p></p> 
<li></li> Numeric conversions did not recognize changes in the string value 
properly in certain circumstances. [561]
<p></p> 
<li></li> Attributes (such as :shared) didn't work with our(). 
<p></p> 
<li></li> <code>our()</code> variables will not cause bogus ``Variable will 
not stay shared'' warnings. [561]
<p></p> 
<li></li> ``our'' variables of the same name declared in two sibling blocks 
resulted in bogus warnings about ``redeclaration'' of the variables. The 
problem has been corrected. [561]
<p></p> 
<li></li> pack ``Z'' now correctly terminates the string with ``\0''. 
<p></p> 
<li></li> Fix password routines which in some shadow password platforms (e.g. 
HP-UX) caused<code>getpwent()</code> to return every other entry. 
<p></p> 
<li></li> The PERL5OPT? environment variable (for passing command line 
arguments to Perl) didn't work for more than a single group of options. [561]
<p></p> 
<li></li> PERL5OPT? with embedded spaces didn't work. 
<p></p> 
<li></li> <code>printf()</code> no longer resets the numeric locale to ``C''. 
<p></p> 
<li></li> <code>qw(a\\b)</code> now parses correctly as <code>'a\\b'</code>: 
that is, as three characters, not four. [561]
<p></p> 
<li></li> <code>pos()</code> did not return the correct value within s///ge in 
earlier versions. This is now handled correctly. [561]
<p></p> 
<li></li> Printing quads (64-bit integers) with printf/sprintf now works 
without the q L ll prefixes (assuming you are on a quad-capable platform).
<p></p> 
<li></li> Regular expressions on references and overloaded scalars now work. 
[561+]
<p></p> 
<li></li> Right-hand side magic (GMAGIC) could in many cases such as string 
concatenation be invoked too many times.
<p></p> 
<li></li> <code>scalar()</code> now forces scalar context even when used in 
void context.
<p></p> 
<li></li> SOCKS support is now much more robust. 
<p></p> 
<li></li> <code>sort()</code> arguments are now compiled in the right 
wantarray context (they were accidentally using the context of the<code>sort()
</code> itself). The comparison block is now run in scalar context, and the 
arguments to be sorted are always provided list context. [561]
<p></p> 
<li></li> Changed the POSIX character class <code>:space:? </code> to include 
the (very rarely used) vertical tab character. Added a new POSIX-ish character 
class<code>:blank:? </code> which stands for horizontal whitespace (currently, 
the space and the tab).
<p></p> 
<li></li> The tainting behaviour of <code>sprintf()</code> has been 
rationalized. It does not taint the result of floating point formats anymore, 
making the behaviour consistent with that of string interpolation. [561]
<p></p> 
<li></li> Some cases of inconsistent taint propagation (such as within hash 
values) have been fixed.
<p></p> 
<li></li> The RE engine found in Perl 5.6.0 accidentally pessimised certain 
kinds of simple pattern matches. These are now handled better. [561]
<p></p> 
<li></li> Regular expression debug output (whether through <code>use re 'debug'
</code> or via <code>-Dr</code>) now looks better. [561] 
<p></p> 
<li></li> Multi-line matches like <code>&quot;a\nxb\n&quot; =~ /(?!\A)x/m
</code> were flawed. The bug has been fixed. [561] 
<p></p> 
<li></li> Use of $&amp; could trigger a core dump under some situations. This 
is now avoided. [561]
<p></p> 
<li></li> The regular expression captured submatches ($1, $2, ...) are now 
more consistently unset if the match fails, instead of leaving false data lying 
around in them. [561]
<p></p> 
<li></li> <code>readline()</code> on files opened in ``slurp'' mode could 
return an extra ``'' (blank line) at the end in certain situations. This has 
been corrected. [561]
<p></p> 
<li></li> Autovivification of symbolic references of special variables 
described inthe perlvar manpage (as in <code>${$num}</code>) was accidentally 
disabled. This works again now. [561]
<p></p> 
<li></li> Sys::Syslog ignored the <code>LOG_AUTH</code> constant. 
<p></p> 
<li></li> $AUTOLOAD, sort(), lock(), and spawning subprocesses in multiple 
threads simultaneously are now thread-safe.
<p></p> 
<li></li> Tie::Array's SPLICE method was broken. 
<p></p> 
<li></li> Allow a read-only string on the left-hand side of a non-modifying 
tr///.
<p></p> 
<li></li> If <code>STDERR</code> is tied, warnings caused by <code>warn</code> 
and<code>die</code> now correctly pass to it. 
<p></p> 
<li></li> Several Unicode fixes. 
<ul> 
<p></p> 
<li></li> BOMs (byte order marks) at the beginning of Perl files (scripts, 
modules) should now be transparently skipped. UTF-16 and UCS-2 encoded Perl 
files should now be read correctly.
<p></p> 
<li></li> The character tables have been updated to Unicode 3.2.0. 
<p></p> 
<li></li> Comparing with utf8 data does not magically upgrade non-utf8 data 
into utf8. (This was a problem for example if you were mixing data from I/O and 
Unicode data: your output might have got magically encoded as UTF-8.)
<p></p> 
<li></li> Generating illegal Unicode code points such as U+FFFE, or the UTF-16 
surrogates, now also generates an optional warning.
<p></p> 
<li></li> <code>IsAlnum</code>, <code>IsAlpha</code>, and <code>IsWord</code> 
now match titlecase.
<p></p> 
<li></li> Concatenation with the <code>.</code> operator or via variable 
interpolation,<code>eq</code>, <code>substr</code>, <code>reverse</code>, <code>
quotemeta</code>, the <code>x</code> operator, substitution with <code>s///
</code>, single-quoted UTF-8, should now work. 
<p></p> 
<li></li> The <code>tr///</code> operator now works. Note that the <code>
tr///CU</code> functionality has been removed (but see pack('U0', ...)). 
<p></p> 
<li></li> <code>eval &quot;v200&quot;</code> now works. 
<p></p> 
<li></li> Perl 5.6.0 parsed m/\x{ab}/ incorrectly, leading to spurious 
warnings. This has been corrected. [561]
<p></p> 
<li></li> Zero entries were missing from the Unicode classes such as <code>
IsDigit</code>. </ul> 
<p></p> 
<li></li> Large unsigned numbers (those above 2**31) could sometimes lose 
their unsignedness, causing bogus results in arithmetic operations. [561]
<p></p> 
<li></li> The Perl parser has been stress tested using both random input and 
Markov chain input and the few found crashes and lockups have been fixed.</ul> 
<h2> Platform Specific Changes and Fixes </h2> 
<ul> 
<p></p> 
<li></li> BSDI 4.* Perl now works on post-4.0 BSD/OSes. 
<p></p> 
<li></li> All BSDs Setting <code>$0</code> now works (as much as possible; see 
the perlvar manpage for details). 
<p></p> 
<li></li> Cygwin Numerous updates; currently synchronised with Cygwin 1.3.10. 
<p></p> 
<li></li> Previously DYNIX/ptx had problems in its Configure probe for 
non-blocking I/O.
<p></p> 
<li></li> EPOC EPOC now better supported. See README.epoc. [561] 
<p></p> 
<li></li> FreeBSD? 3.* Perl now works on post-3.0 FreeBSDs? . 
<p></p> 
<li></li> HP-UX README.hpux updated; <code>Configure -Duse64bitall</code> now 
works; now uses HP-UX malloc instead of Perl malloc.
<p></p> 
<li></li> IRIX Numerous compilation flag and hint enhancements; accidental 
mixing of 32-bit and 64-bit libraries (a doomed attempt) made much harder.
<p></p> 
<li></li> Linux 
<ul> 
<p></p> 
<li></li> Long doubles should now work (see INSTALL). [561] 
<p></p> 
<li></li> Linux previously had problems related to sockaddrlen when using 
accept(),<code>recvfrom()</code> (in Perl: recv()), getpeername(), and 
getsockname().</ul> 
<p></p> 
<li></li> Mac OS Classic Compilation of the standard Perl distribution in Mac 
OS Classic should now work if you have the Metrowerks development environment 
and the missing Mac-specific toolkit bits. Contact the macperl mailing list for 
details.
<p></p> 
<li></li> MPE/iX MPE/iX update after Perl 5.6.0. See README.mpeix. [561] 
<p></p> 
<li></li> NetBSD? /threads: try installing the GNU pth (should be in the 
packages collection, orhttp://www.gnu.org/software/pth/), and Configure with 
-Duseithreads.
<p></p> 
<li></li> NetBSD? /sparc Perl now works on NetBSD? /sparc. 
<p></p> 
<li></li> OS/2 Now works with usethreads (see INSTALL). [561] 
<p></p> 
<li></li> Solaris 64-bitness using the Sun Workshop compiler now works. 
<p></p> 
<li></li> Stratus VOS The native build method requires at least VOS Release 
14.5.0 and GNU C++/GNU Tools 2.0.1 or later. The Perl pack function now maps 
overflowed values to +infinity and underflowed values to -infinity.
<p></p> 
<li></li> Tru64 (aka Digital UNIX, aka DEC OSF/1) The operating system version 
letter now recorded in $Config{osvers}. Allow compiling with gcc (previously 
explicitly forbidden). Compiling with gcc still not recommended because buggy 
code results, even with gcc 2.95.2.
<p></p> 
<li></li> Unicos Fixed various alignment problems that lead into core dumps 
either during build or later; no longer dies on math errors at runtime; now 
using full quad integers (64 bits), previously was using only 46 bit integers 
for speed.
<p></p> 
<li></li> VMS See Socket Extension Dynamic in VMS and /``IEEE-format Floating 
Point Default onOpenVMS? Alpha``&gt; for important changes not otherwise listed 
here.<code>chdir()</code> now works better despite a CRT bug; now works with 
MULTIPLICITY (see INSTALL); now works with Perl's malloc. The tainting of<code>
%ENV</code> elements via <code>keys</code> or <code>values</code> was 
previously unimplemented. It now works as documented. The<code>waitpid</code> 
emulation has been improved. The worst bug (now fixed) was that a pid of -1 
would cause a wildcard search of all processes on the system. POSIX-style 
signals are now emulated much better on VMS versions prior to 7.0. The<code>
system</code> function and backticks operator have improved functionality and 
better error handling. [561] File access tests now use current process 
privileges rather than the user's default privileges, which could sometimes 
result in a mismatch between reported access and actual access. This 
improvement is only available on VMS v6.0 and later. There is a new<code>kill
</code> implementation based on <code>sys$sigprc</code> that allows older VMS 
systems (pre-7.0) to use<code>kill</code> to send signals rather than simply 
force exit. This implementation also allows later systems to call<code>kill
</code> from within a signal handler. Iterative logical name translations are 
now limited to 10 iterations in imitation of SHOW LOGICAL and otherOpenVMS? 
facilities.
<p></p> 
<li></li> Windows 
<ul> 
<p></p> 
<li></li> Signal handling now works better than it used to. It is now 
implemented using a Windows message loop, and is therefore less prone to random 
crashes.
<p></p> 
<li></li> <code>fork()</code> emulation is now more robust, but still 
continues to have a few esoteric bugs and caveats. Seethe perlfork manpage for 
details. [561+]
<p></p> 
<li></li> A failed (pseudo)fork now returns undef and sets errno to EAGAIN. 
[561]
<p></p> 
<li></li> The following modules now work on Windows: 
<pre> ExtUtils::Embed [561]</pre> 
<pre> IO::Pipe</pre> 
<pre> IO::Poll</pre> 
<pre> Net::Ping</pre> 
<p></p> 
<li></li> IO::File::new_tmpfile() is no longer limited to 32767 invocations 
per-process.
<p></p> 
<li></li> Better <code>chdir()</code> return value for a non-existent 
directory.
<p></p> 
<li></li> Compiling perl using the 64-bit Platform SDK tools is now supported. 
<p></p> 
<li></li> The Win32::SetChildShowWindow() builtin can be used to control the 
visibility of windows created by child processes. Seethe Win32 manpage for 
details.
<p></p> 
<li></li> Non-blocking waits for child processes (or pseudo-processes) are 
supported via<code>waitpid($pid, &amp;POSIX::WNOHANG)</code>. 
<p></p> 
<li></li> The behavior of <code>system()</code> with multiple arguments has 
been rationalized. Each unquoted argument will be automatically quoted to 
protect whitespace, and any existing whitespace in the arguments will be 
preserved. This improves the portability of<code>system(@args)</code> by 
avoiding the need for Windows<code>cmd</code> shell specific quoting in perl 
programs. Note that this means that some scripts that may have relied on 
earlier buggy behavior may no longer work correctly. For example,<code>
system(&quot;nmake /nologo&quot;, @args)</code> will now attempt to run the file
<code>nmake /nologo</code> and will fail when such a file isn't found. On the 
other hand, perl will now execute code such as<code>system(&quot;c:/Program 
Files/MyApp/foo.exe&quot;, @args)</code> correctly. 
<p></p> 
<li></li> The perl header files no longer suppress common warnings from the 
Microsoft Visual C++ compiler. This means that additional warnings may now show 
up when compiling XS code.
<p></p> 
<li></li> Borland C++ v5.5 is now a supported compiler that can build Perl. 
However, the generated binaries continue to be incompatible with those 
generated by the other supported compilers (GCC and Visual C++). [561]
<p></p> 
<li></li> Duping socket handles with open(F, ``&gt;&amp;MYSOCK'') now works 
under Windows 9x. [561]
<p></p> 
<li></li> Current directory entries in %ENV are now correctly propagated to 
child processes. [561]
<p></p> 
<li></li> New %ENV entries now propagate to subprocesses. [561] 
<p></p> 
<li></li> Win32::GetCwd() correctly returns C:\ instead of C: when at the 
drive root. Other bugs in<code>chdir()</code> and Cwd::cwd() have also been 
fixed. [561]
<p></p> 
<li></li> The makefiles now default to the features enabled in ActiveState? 
ActivePerl? (a popular Win32 binary distribution). [561] 
<p></p> 
<li></li> HTML files will now be installed in c:\perl\html instead of 
c:\perl\lib\pod\html
<p></p> 
<li></li> REG_EXPAND_SZ keys are now allowed in registry settings used by 
perl. [561]
<p></p> 
<li></li> Can now <code>send()</code> from all threads, not just the first 
one. [561]
<p></p> 
<li></li> ExtUtils? ::MakeMaker now uses $ENV{LIB} to search for libraries. 
[561]
<p></p> 
<li></li> Less stack reserved per thread so that more threads can run 
concurrently. (Still 16M per thread.) [561]
<p></p> 
<li></li> <code>File::Spec-&gt;tmpdir()</code> now prefers C:/temp over /tmp 
(works better when perl is running as service).
<p></p> 
<li></li> Better UNC path handling under ithreads. [561] 
<p></p> 
<li></li> wait(), waitpid(), and backticks now return the correct exit status 
under Windows 9x. [561]
<p></p> 
<li></li> A socket handle leak in <code>accept()</code> has been fixed. [561] 
</ul> </ul> 
<p> voltar para o topo </p> 
<h1> New or Changed Diagnostics </h1> Please see the perldiag manpage for more 
details.
<ul> 
<p></p> 
<li></li> Ambiguous range in the transliteration operator (like a-z-9) now 
gives a warning.
<p></p> 
<li></li> <code>chdir(``'')</code> and <code>chdir(undef)</code> now give a 
deprecation warning because they cause a possible unintentional chdir to the 
home directory. Say<code>chdir()</code> if you really mean that. 
<p></p> 
<li></li> Two new debugging options have been added: if you have compiled your 
Perl with debugging, you can use the -DT [561] and -DR options to trace 
tokenising and to add reference counts to displaying variables, respectively.
<p></p> 
<li></li> The lexical warnings category ``deprecated'' is no longer a 
sub-category of the ``syntax'' category. It is now a top-level category in its 
own right.
<p></p> 
<li></li> Unadorned <code>dump()</code> will now give a warning suggesting to 
use explicit CORE::dump() if that's what really is meant.
<p></p> 
<li></li> The ``Unrecognized escape'' warning has been extended to include 
<code>\8</code>, <code>\9</code>, and <code>\_</code>. There is no need to 
escape any of the<code>\w</code> characters. 
<p></p> 
<li></li> All regular expression compilation error messages are now hopefully 
easier to understand both because the error message now comes before the failed 
regex and because the point of failure is now clearly marked by a<code>&lt;-- 
HERE</code> marker. 
<p></p> 
<li></li> Various I/O (and socket) functions like binmode(), close(), and so 
forth now more consistently warn if they are used illogically either on a yet 
unopened or on an already closed filehandle (or socket).
<p></p> 
<li></li> Using <code>lstat()</code> on a filehandle now gives a warning. 
(It's a non-sensical thing to do.)
<p></p> 
<li></li> The <code>-M</code> and <code>-m</code> options now warn if you 
didn't supply the module name.
<p></p> 
<li></li> If you in <code>use</code> specify a required minimum version, 
modules matching the name and but not defining a $VERSION will cause a fatal 
failure.
<p></p> 
<li></li> Using negative offset for <code>vec()</code> in lvalue context is 
now a warnable offense.
<p></p> 
<li></li> Odd number of arguments to overload::constant now elicits a warning. 
<p></p> 
<li></li> Odd number of elements in anonymous hash now elicits a warning. 
<p></p> 
<li></li> The various ``opened only for'', ``on closed'', ``never opened'' 
warnings drop the<code>main::</code> prefix for filehandles in the <code>main
</code> package, for example <code>STDIN</code> instead of <code>main::STDIN
</code>. 
<p></p> 
<li></li> Subroutine prototypes are now checked more carefully, you may get 
warnings for example if you have used non-prototype characters.
<p></p> 
<li></li> If an attempt to use a (non-blessed) reference as an array index is 
made, a warning is given.
<p></p> 
<li></li> <code>push @a;</code> and <code>unshift @a;</code> (with no values 
to push or unshift) now give a warning. This may be a problem for generated and 
evaled code.
<p></p> 
<li></li> If you try to pack in the perlfunc manpage a number less than 0 or 
larger than 255 using the<code>&quot;C&quot;</code> format you will get an 
optional warning. Similarly for the<code>&quot;c&quot;</code> format and a 
number less than -128 or more than 127.
<p></p> 
<li></li> pack <code>P</code> format now demands an explicit size. 
<p></p> 
<li></li> unpack <code>w</code> now warns of unterminated compressed integers. 
<p></p> 
<li></li> Warnings relating to the use of PerlIO? have been added. 
<p></p> 
<li></li> Certain regex modifiers such as <code>(?o)</code> make sense only if 
applied to the entire regex. You will get an optional warning if you try to do 
otherwise.
<p></p> 
<li></li> Variable length lookbehind has not yet been implemented, trying to 
use it will tell that.
<p></p> 
<li></li> Using arrays or hashes as references (e.g. <code>%foo-&gt;{bar}
</code> has been deprecated for a while. Now you will get an optional warning. 
<p></p> 
<li></li> Warnings relating to the use of the new restricted hashes feature 
have been added.
<p></p> 
<li></li> Self-ties of arrays and hashes are not supported and fatal errors 
will happen even at an attempt to do so.
<p></p> 
<li></li> Using <code>sort</code> in scalar context now issues an optional 
warning. This didn't do anything useful, as the sort was not performed.
<p></p> 
<li></li> Using the /g modifier in <code>split()</code> is meaningless and 
will cause a warning.
<p></p> 
<li></li> Using <code>splice()</code> past the end of an array now causes a 
warning.
<p></p> 
<li></li> Malformed Unicode encodings (UTF-8 and UTF-16) cause a lot of 
warnings, as does trying to use UTF-16 surrogates (which are unimplemented).
<p></p> 
<li></li> Trying to use Unicode characters on an I/O stream without marking 
the stream's encoding (using<code>open()</code> or <code>binmode())</code> will 
cause ``Wide character'' warnings.
<p></p> 
<li></li> Use of v-strings in use/require causes a (backward) portability 
warning.
<p></p> 
<li></li> Warnings relating to the use interpreter threads and their shared 
data have been added.</ul> 
<p> voltar para o topo </p> 
<h1> Changed Internals </h1> 
<ul> 
<p></p> 
<li></li> PerlIO? is now the default. 
<p></p> 
<li></li> perlapi.pod (a companion to perlguts) now attempts to document the 
internal API.
<p></p> 
<li></li> You can now build a really minimal perl called microperl. Building 
microperl does not require even running Configure;<code>make -f Makefile.micro
</code> should be enough. Beware: microperl makes many assumptions, some of 
which may be too bold; the resulting executable may crash or otherwise 
misbehave in wondrous ways. For careful hackers only.
<p></p> 
<li></li> Added rsignal(), whichsig(), do_join(), op_clear, op_null, 
ptr_table_clear(), ptr_table_free(), sv_setref_uv(), and several UTF-8 
interfaces to the publicised API. For the full list of the available APIs see
the perlapi manpage. 
<p></p> 
<li></li> Made possible to propagate customised exceptions via croak()ing. 
<p></p> 
<li></li> Now xsubs can have attributes just like subs. (Well, at least the 
built-in attributes.)
<p></p> 
<li></li> dTHR and djSP have been obsoleted; the former removed (because it's 
a no-op) and the latter replaced with dSP.
<p></p> 
<li></li> PERL_OBJECT has been completely removed. 
<p></p> 
<li></li> The MAGIC constants (e.g. <code>'P'</code>) have been macrofied (e.g.
<code>PERL_MAGIC_TIED</code>) for better source code readability and 
maintainability.
<p></p> 
<li></li> The regex compiler now maintains a structure that identifies nodes 
in the compiled bytecode with the corresponding syntactic features of the 
original regex expression. The information is attached to the new<code>offsets
</code> member of the <code>struct regexp</code>. See the perldebguts manpage 
for more complete information.
<p></p> 
<li></li> The C code has been made much more <code>gcc -Wall</code> clean. 
Some warning messages still remain in some platforms, so if you are compiling 
with gcc you may see some warnings about dubious practices. The warnings are 
being worked on.
<p></p> 
<li></li> <em>perly.c</em>, <em>sv.c</em>, and <em>sv.h</em> have now been 
extensively commented.
<p></p> 
<li></li> Documentation on how to use the Perl source repository has been 
added to<em>Porting/repository.pod</em>. 
<p></p> 
<li></li> There are now several profiling make targets. </ul> 
<p> voltar para o topo </p> 
<h1> Security Vulnerability Closed [561] </h1> (This change was already made 
in 5.7.0 but bears repeating here.) (5.7.0 came out before 5.6.1: the 
development branch 5.7 released earlier than the maintenance branch 5.6) A 
potential security vulnerability in the optional suidperl component of Perl was 
identified in August 2000. suidperl is neither built nor installed by default. 
As of November 2001 the only known vulnerable platform is Linux, most likely 
all Linux distributions. CERT and various vendors and distributors have been 
alerted about the vulnerability. See
http://www.cpan.org/src/5.0/sperl-2000-08-05/sperl-2000-08-05.txt for more 
information. The problem was caused by Perl trying to report a suspected 
security exploit attempt using an external program, /bin/mail. On Linux 
platforms the /bin/mail program had an undocumented feature which when combined 
with suidperl gave access to a root shell, resulting in a serious compromise 
instead of reporting the exploit attempt. If you don't have /bin/mail, or if 
you have 'safe setuid scripts', or if suidperl is not installed, you are safe. 
The exploit attempt reporting feature has been completely removed from Perl 
5.8.0 (and the maintenance release 5.6.1, and it was removed also from all the 
Perl 5.7 releases), so that particular vulnerability isn't there anymore. 
However, further security vulnerabilities are, unfortunately, always possible. 
The suidperl functionality is most probably going to be removed in Perl 5.10. 
In any case, suidperl should only be used by security experts who know exactly 
what they are doing and why they are using suidperl instead of some other 
solution such as sudo ( seehttp://www.courtesan.com/sudo/ ). 
<p> voltar para o topo </p> 
<h1> New Tests </h1> Several new tests have been added, especially for the <em>
lib</em> and <em>ext</em> subsections. There are now about 69 000 individual 
tests (spread over about 700 test scripts), in the regression suite (5.6.1 has 
about 11 700 tests, in 258 test scripts) The exact numbers depend on the 
platform and Perl configuration used. Many of the new tests are of course 
introduced by the new modules, but still in general Perl is now more thoroughly 
tested. Because of the large number of tests, running the regression suite will 
take considerably longer time than it used to: expect the suite to take up to 
4-5 times longer to run than in perl 5.6. On a really fast machine you can hope 
to finish the suite in about 6-8 minutes (wallclock time). The tests are now 
reported in a different order than in earlier Perls. (This happens because the 
test scripts from under t/lib have been moved to be closer to the 
library/extension they are testing.)
<p> voltar para o topo </p> 
<h1> Known Problems </h1> 
<h2> The Compiler Suite Is Still Very Experimental </h2> The compiler suite is 
slowly getting better but it continues to be highly experimental. Use in 
production environments is discouraged.
<h2> Localising Tied Arrays and Hashes Is Broken </h2> 
<pre> local %tied_array;</pre> doesn't work as one would expect: the old value 
is restored incorrectly. This will be changed in a future release, but we don't 
know yet what the new semantics will exactly be. In any case, the change will 
break existing code that relies on the current (ill-defined) semantics, so just 
avoid doing this in general.
<h2> Building Extensions Can Fail Because Of Largefiles </h2> Some extensions 
like mod_perl are known to have issues with `largefiles', a change brought by 
Perl 5.6.0 in which file offsets default to 64 bits wide, where supported. 
Modules may fail to compile at all, or they may compile and work incorrectly. 
Currently, there is no good solution for the problem, but Configure now 
provides appropriate non-largefile ccflags, ldflags, libswanted, and libs in 
the %Config hash (e.g., $Config{ccflags_nolargefiles}) so the extensions that 
are having problems can try configuring themselves without the largefileness. 
This is admittedly not a clean solution, and the solution may not even work at 
all. One potential failure is whether one can (or, if one can, whether it's a 
good idea to) link together at all binaries with different ideas about file 
offsets; all this is platform-dependent.
<h2> Modifying $_ Inside <code>for(..)</code> </h2> 
<pre> for (1..5) { $_++ }</pre> works without complaint. It shouldn't. (You 
should be able to modify only lvalue elements inside the loops.) You can see 
the correct behaviour by replacing the 1..5 with 1, 2, 3, 4, 5.
<h2> mod_perl 1.26 Doesn't Build With Threaded Perl </h2> Use mod_perl 1.27 or 
higher.
<h2> lib/ftmp-security tests warn 'system possibly insecure' </h2> Don't 
panic. Read the 'make test' section of INSTALL instead.
<h2> libwww-perl (LWP) fails base/date #51 </h2> Use libwww-perl 5.65 or later.
<h2> PDL failing some tests </h2> Use PDL 2.3.4 or later. 
<h2> Perl_get_sv </h2> You may get errors like 'Undefined symbol 
``Perl_get_sv''' or ``can't resolve symbol 'Perl_get_sv'``, or the symbol may 
be ''Perl_sv_2pv``. This probably means that you are trying to use an older 
shared Perl library (or extensions linked with such) with Perl 5.8.0 
executable. Perl used to have such a subroutine, but that is no more the case. 
Check your shared library path, and any shared Perl libraries in those 
directories. Sometimes this problem may also indicate a partial Perl 5.8.0 
installation, seeMac OS X dyld undefined symbols for an example and how to deal 
with it.
<h2> Self-tying Problems </h2> Self-tying of arrays and hashes is broken in 
rather deep and hard-to-fix ways. As a stop-gap measure to avoid people from 
getting frustrated at the mysterious results (core dumps, most often), it is 
forbidden for now (you will get a fatal error even from an attempt). A change 
to self-tying of globs has caused them to be recursively referenced (see:
Two-Phased Garbage Collection in the perlobj manpage). You will now need an 
explicit untie to destroy a self-tied glob. This behaviour may be fixed at a 
later date. Self-tying of scalars and IO thingies works.
<h2> ext/threads/t/libc </h2> If this test fails, it indicates that your libc 
(C library) is not threadsafe. This particular test stress tests the<code>
localtime()</code> call to find out whether it is threadsafe. See the 
perlthrtut manpage for more information. 
<h2> Failure of Thread (5.005-style) tests </h2> <strong></strong>Note that 
support for 5.005-style threading is deprecated, experimental and practically 
unsupported. In 5.10, it is expected to be removed. You should migrate your 
code to ithreads.&gt; The following tests are known to fail due to fundamental 
problems in the 5.005 threading implementation. These are not new 
failures--Perl 5.005_0x has the same bugs, but didn't have these tests.
<pre> ../ext/B/t/xref.t 255 65280 14 12 85.71% 3-14</pre> 
<pre> ../ext/List/Util/t/first.t 255 65280 7 4 57.14% 2 5-7</pre> 
<pre> ../lib/English.t 2 512 54 2 3.70% 2-3</pre> 
<pre> ../lib/FileCache.t 5 1 20.00% 5</pre> 
<pre> ../lib/Filter/Simple/t/data.t 6 3 50.00% 1-3</pre> 
<pre> ../lib/Filter/Simple/t/filter_only. 9 3 33.33% 1-2 5</pre> 
<pre> ../lib/Math/BigInt/t/bare_mbf.t 1627 4 0.25% 8 11 1626-1627</pre> 
<pre> ../lib/Math/BigInt/t/bigfltpm.t 1629 4 0.25% 10 13 1628-</pre> 
<pre> 1629</pre> 
<pre> ../lib/Math/BigInt/t/sub_mbf.t 1633 4 0.24% 8 11 1632-1633</pre> 
<pre> ../lib/Math/BigInt/t/with_sub.t 1628 4 0.25% 9 12 1627-1628</pre> 
<pre> ../lib/Tie/File/t/31_autodefer.t 255 65280 65 32 49.23% 34-65</pre> 
<pre> ../lib/autouse.t 10 1 10.00% 4</pre> 
<pre> op/flip.t 15 1 6.67% 15</pre> These failures are unlikely to get fixed 
as 5.005-style threads are considered fundamentally broken. (Basically what 
happens is that competing threads can corrupt shared global state, one good 
example being regular expression engine's state.)
<h2> Timing problems </h2> The following tests may fail intermittently because 
of timing problems, for example if the system is heavily loaded.
<pre> t/op/alarm.t</pre> 
<pre> ext/Time/HiRes/HiRes.t</pre> 
<pre> lib/Benchmark.t</pre> 
<pre> lib/Memoize/t/expmod_t.t</pre> 
<pre> lib/Memoize/t/speed.t</pre> In case of failure please try running them 
manually, for example
<pre> ./perl -Ilib ext/Time/HiRes/HiRes.t</pre> 
<h2> Tied/Magical Array/Hash Elements Do Not Autovivify </h2> For normal arrays
<code>$foo = \$bar[1]</code> will assign <code>undef</code> to <code>$bar[1]
</code> (assuming that it didn't exist before), but for tied/magical arrays and 
hashes such autovivification does not happen because there is currently no way 
to catch the reference creation. The same problem affects slicing over 
non-existent indices/keys of a tied/magical array/hash.
<h2> Unicode in package/class and subroutine names does not work </h2> One can 
have Unicode in identifier names, but not in package/class or subroutine names. 
While some limited functionality towards this does exist as of Perl 5.8.0, that 
is more accidental than designed; use of Unicode for the said purposes is 
unsupported. One reason of this unfinishedness is its (currently) inherent 
unportability: since both package names and subroutine names may need to be 
mapped to file and directory names, the Unicode capability of the filesystem 
becomes important-- and there unfortunately aren't portable answers.
<p> voltar para o topo </p> 
<h1> Platform Specific Problems </h1> 
<h2> AIX </h2> 
<ul> 
<p></p> 
<li></li> If using the AIX native make command, instead of just ``make'' issue 
``make all''. In some setups the former has been known to spuriously also try 
to run ``make install''. Alternatively, you may want to use GNU make.
<p></p> 
<li></li> In AIX 4.2, Perl extensions that use C++ functions that use statics 
may have problems in that the statics are not getting initialized. In newer AIX 
releases, this has been solved by linking Perl with the libC_r library, but 
unfortunately in AIX 4.2 the said library has an obscure bug where the various 
functions related to time (such as<code>time()</code> and <code>gettimeofday())
</code> return broken values, and therefore in AIX 4.2 Perl is not linked 
against libC_r.
<p></p> 
<li></li> vac 5.0.0.0 May Produce Buggy Code For Perl The AIX C compiler vac 
version 5.0.0.0 may produce buggy code, resulting in a few random tests failing 
when run as part of ``make test``, but when the failing tests are run by hand, 
they succeed. We suggest upgrading to at least vac version 5.0.1.0, that has 
been known to compile Perl correctly. ``lslpp -L|grep vac.C'' will tell you the 
vac version. See README.aix.
<p></p> 
<li></li> If building threaded Perl, you may get compilation warning from 
pp_sys.c:
<pre> &quot;pp_sys.c&quot;, line 4651.39: 1506-280 (W) Function argument 
assignment between types &quot;unsigned char*&quot; and &quot;const void*&quot; 
is not allowed.</pre> This is harmless; it is caused by the <code>getnetbyaddr()
</code> and <code>getnetbyaddr_r()</code> having slightly different types for 
their first argument.</ul> 
<h2> Alpha systems with old gccs fail several tests </h2> If you see op/pack, 
op/pat, op/regexp, or ext/Storable tests failing in a Linux/alpha or 
*BSD/Alpha, it's probably time to upgrade your gcc. gccs prior to 2.95.3 are 
definitely not good enough, and gcc 3.1 may be even better. (RedHat? 
Linux/alpha with gcc 3.1 reported no problems, as did Linux 2.4.18 with gcc 
2.95.4.) (In Tru64, it is preferable to use the bundled C compiler.)
<h2> AmigaOS </h2> Perl 5.8.0 doesn't build in AmigaOS? . It broke at some 
point during the ithreads work and we could not find Amiga experts to unbreak 
the problems. Perl 5.6.1 still works forAmigaOS? (as does the the 5.7.2 
development release).
<h2> BeOS </h2> The following tests fail on 5.8.0 Perl in BeOS? Personal 5.03: 
<pre> t/op/lfs............................FAILED at test 17</pre> 
<pre> t/op/magic..........................FAILED at test 24</pre> 
<pre> ext/Fcntl/t/syslfs..................FAILED at test 17</pre> 
<pre> ext/File/Glob/t/basic...............FAILED at test 3</pre> 
<pre> ext/POSIX/t/sigaction...............FAILED at test 13</pre> 
<pre> ext/POSIX/t/waitpid.................FAILED at test 1</pre> See the 
perlbeos manpage (README.beos) for more details. 
<h2> Cygwin ``unable to remap'' </h2> For example when building the Tk 
extension for Cygwin, you may get an error message saying ``unable to remap''. 
This is known problem with Cygwin, and a workaround is detailed in here:
http://sources.redhat.com/ml/cygwin/2001-12/msg00894.html 
<h2> Cygwin ndbm tests fail on FAT </h2> One can build but not install (or 
test the build of) the NDBM_File on FAT filesystems. Installation (or build) on 
NTFS works fine. If one attempts the test on a FAT install (or build) the 
following failures are expected:
<pre> ../ext/NDBM_File/ndbm.t 13 3328 71 59 83.10% 1-2 4 16-71</pre> 
<pre> ../ext/ODBM_File/odbm.t 255 65280 ?? ?? % ??</pre> 
<pre> ../lib/AnyDBM_File.t 2 512 12 2 16.67% 1 4</pre> 
<pre> ../lib/Memoize/t/errors.t 0 139 11 5 45.45% 7-11</pre> 
<pre> ../lib/Memoize/t/tie_ndbm.t 13 3328 4 4 100.00% 1-4</pre> 
<pre> run/fresh_perl.t 97 1 1.03% 91</pre> NDBM_File fails and ODBM_File just 
coredumps. If you intend to run only on FAT (or if usingAnyDBM? _File on FAT), 
run Configure with the -Ui_ndbm and -Ui_dbm options to prevent NDBM_File and 
ODBM_File being built.
<h2> DJGPP Failures </h2> 
<pre> t/op/stat............................FAILED at test 29</pre> 
<pre> lib/File/Find/t/find.................FAILED at test 1</pre> 
<pre> lib/File/Find/t/taint................FAILED at test 1</pre> 
<pre> lib/h2xs.............................FAILED at test 15</pre> 
<pre> lib/Pod/t/eol........................FAILED at test 1</pre> 
<pre> lib/Test/Harness/t/strap-analyze.....FAILED at test 8</pre> 
<pre> lib/Test/Harness/t/test-harness......FAILED at test 23</pre> 
<pre> lib/Test/Simple/t/exit...............FAILED at test 1</pre> The above 
failures are known as of 5.8.0 with native builds with long filenames, but 
there are a few more if running under dosemu because of limitations (and maybe 
bugs) of dosemu:
<pre> t/comp/cpp...........................FAILED at test 3</pre> 
<pre> t/op/inccode.........................(crash)</pre> and a few 
lib/ExtUtils tests, and several hundred Encode/t/Aliases.t failures that work 
fine with long filenames. So you really might prefer native builds and long 
filenames.
<h2> FreeBSD built with ithreads coredumps reading large directories </h2> 
This is a known bug inFreeBSD? 4.5's readdir_r(), it has been fixed in FreeBSD? 
4.6 (seethe perlfreebsd manpage (README.freebsd)). 
<h2> FreeBSD Failing locale Test 117 For ISO 8859-15 Locales </h2> The ISO 
8859-15 locales may fail the locale test 117 inFreeBSD? . This is caused by the 
characters \xFF (y with diaeresis) and \xBE (Y with diaeresis) not behaving 
correctly when being matched case-insensitively. Apparently this problem has 
been fixed in the latestFreeBSD? releases. ( 
http://www.freebsd.org/cgi/query-pr.cgi?pr=34308 ) 
<h2> IRIX fails ext/List/Util/t/shuffle.t or Digest::MD5 </h2> IRIX with 
MIPSpro 7.3.1.2m or 7.3.1.3m compiler may fail the List::Util test 
ext/List/Util/t/shuffle.t by dumping core. This seems to be a compiler error 
since if compiled with gcc no core dump ensues, and no failures have been seen 
on the said test on any other platform. Similarly, building the Digest::MD5 
extension has been known to fail with ``*** Termination code 139 (bu21)''. The 
cure is to drop optimization level (Configure -Doptimize=-O2).
<h2> HP-UX lib/posix Subtest 9 Fails When LP64-Configured </h2> If perl is 
configured with -Duse64bitall, the successful result of the subtest 10 of 
lib/posix may arrive before the successful result of the subtest 9, which 
confuses the test harness so much that it thinks the subtest 9 failed.
<h2> Linux with glibc 2.2.5 fails t/op/int subtest #6 with -Duse64bitint </h2> 
This is a known bug in the glibc 2.2.5 with long long integers. (
http://bugzilla.redhat.com/bugzilla/show_bug.cgi?id=65612 ) 
<h2> Linux With Sfio Fails op/misc Test 48 </h2> No known fix. 
<h2> Mac OS X </h2> Please remember to set your environment variable LC_ALL to 
``C'' (setenv LC_ALL C) before running ``make test'' to avoid a lot of warnings 
about the broken locales of Mac OS X. The following tests are known to fail in 
Mac OS X 10.1.5 because of buggy (old) implementations of Berkeley DB included 
in Mac OS X:
<pre> Failed Test Stat Wstat Total Fail Failed List of Failed</pre> 
<pre> -------------------------------------------------------------------------
</pre> 
<pre> ../ext/DB_File/t/db-btree.t 0 11 ?? ?? % ??</pre> 
<pre> ../ext/DB_File/t/db-recno.t 149 3 2.01% 61 63 65</pre> If you are 
building on a UFS partition, you will also probably see t/op/stat.t subtest #9 
fail. This is caused by Darwin's UFS not supporting inode change time. Also the 
ext/POSIX/t/posix.t subtest #10 fails but it is skipped for now because the 
failure is Apple's fault, not Perl's (blocked signals are lost). If you 
Configure with ithreads, ext/threads/t/libc.t will fail. Again, this is not 
Perl's fault-- the libc of Mac OS X is not threadsafe (in this particular test, 
the<code>localtime()</code> call is found to be threadunsafe.) 
<h2> Mac OS X dyld undefined symbols </h2> If after installing Perl 5.8.0 you 
are getting warnings about missing symbols, for example
<pre> dyld: perl Undefined symbols</pre> 
<pre> _perl_sv_2pv</pre> 
<pre> _perl_get_sv</pre> you probably have an old pre-Perl-5.8.0 installation 
(or parts of one) in /Library/Perl (the undefined symbols used to exist in 
pre-5.8.0 Perls). It seems that for some reason ``make install'' doesn't always 
completely overwrite the files in /Library/Perl. You can move the old Perl 
shared library out of the way like this:
<pre> cd /Library/Perl/darwin/CORE</pre> 
<pre> mv libperl.dylib libperlold.dylib</pre> and then reissue ``make 
install''. Note that the above of course is extremely disruptive for anything 
using the /usr/local/bin/perl. If that doesn't help, you may have to try 
removing all the .bundle files from beneath /Library/Perl, and again ``make 
install''-ing.
<h2> OS/2 Test Failures </h2> The following tests are known to fail on OS/2 
(for clarity only the failures are shown, not the full error messages):
<pre> ../lib/ExtUtils/t/Mkbootstrap.t 1 256 18 1 5.56% 8</pre> 
<pre> ../lib/ExtUtils/t/Packlist.t 1 256 34 1 2.94% 17</pre> 
<pre> ../lib/ExtUtils/t/basic.t 1 256 17 1 5.88% 14</pre> 
<pre> lib/os2_process.t 2 512 227 2 0.88% 174 209</pre> 
<pre> lib/os2_process_kid.t 227 2 0.88% 174 209</pre> 
<pre> lib/rx_cmprt.t 255 65280 18 3 16.67% 16-18</pre> 
<h2> op/sprintf tests 91, 129, and 130 </h2> The op/sprintf tests 91, 129, and 
130 are known to fail on some platforms. Examples include any platform using 
sfio, and Compaq/Tandem'sNonStop? -UX. Test 91 is known to fail on QNX6 (nto), 
because<code>sprintf '%e',0</code> incorrectly produces <code>0.000000e+0</code>
 instead of<code>0.000000e+00</code>. For tests 129 and 130, the failing 
platforms do not comply with the ANSI C Standard: lines 19ff on page 134 of 
ANSI X3.159 1989, to be exact. (They produce something other than ``1'' and 
``-1'' when formatting 0.6 and -0.6 using the printf format ``%.0f''; most 
often, they produce ``0'' and ``-0''.)
<h2> SCO </h2> The socketpair tests are known to be unhappy in SCO 3.2v5.0.4: 
<pre> ext/Socket/socketpair.t...............FAILED tests 15-45</pre> 
<h2> Solaris 2.5 </h2> In case you are still using Solaris 2.5 (aka SunOS? 
5.5), you may experience failures (the test core dumping) in lib/locale.t. The 
suggested cure is to upgrade your Solaris.
<h2> Solaris x86 Fails Tests With -Duse64bitint </h2> The following tests are 
known to fail in Solaris x86 with Perl configured to use 64 bit integers:
<pre> ext/Data/Dumper/t/dumper.............FAILED at test 268</pre> 
<pre> ext/Devel/Peek/Peek..................FAILED at test 7</pre> 
<h2> SUPER-UX (NEC SX) </h2> The following tests are known to fail on SUPER-UX:
<pre> op/64bitint...........................FAILED tests 29-30, 32-33, 35-36
</pre> 
<pre> op/arith..............................FAILED tests 128-130</pre> 
<pre> op/pack...............................FAILED tests 25-5625</pre> 
<pre> op/pow................................</pre> 
<pre> op/taint..............................# msgsnd failed</pre> 
<pre> ../ext/IO/lib/IO/t/io_poll............FAILED tests 3-4</pre> 
<pre> ../ext/IPC/SysV/ipcsysv...............FAILED tests 2, 5-6</pre> 
<pre> ../ext/IPC/SysV/t/msg.................FAILED tests 2, 4-6</pre> 
<pre> ../ext/Socket/socketpair..............FAILED tests 12</pre> 
<pre> ../lib/IPC/SysV.......................FAILED tests 2, 5-6</pre> 
<pre> ../lib/warnings.......................FAILED tests 115-116, 118-119</pre>
 The op/pack failure (``Cannot compress negative numbers at op/pack.t line 
126'') is serious but as of yet unsolved. It points at some problems with the 
signedness handling of the C compiler, as do the 64bitint, arith, and pow 
failures. Most of the rest point at problems withSysV? IPC. 
<h2> Term::ReadKey not working on Win32 </h2> Use Term::ReadKey 2.20 or later. 
<h2> UNICOS/mk </h2> 
<ul> 
<p></p> 
<li></li> During Configure, the test 
<pre> Guessing which symbols your C compiler and preprocessor define...</pre> 
will probably fail with error messages like
<pre> CC-20 cc: ERROR File = try.c, Line = 3</pre> 
<pre> The identifier &quot;bad&quot; is undefined.</pre> 
<pre> bad switch yylook 79bad switch yylook 79bad switch yylook 79bad switch 
yylook 79#ifdef A29K</pre> 
<pre> ^</pre> 
<pre> CC-65 cc: ERROR File = try.c, Line = 3</pre> 
<pre> A semicolon is expected at this point.</pre> This is caused by a bug in 
the awk utility of UNICOS/mk. You can ignore the error, but it does cause a 
slight problem: you cannot fully benefit from the h2ph utility (seethe h2ph 
manpage) that can be used to convert C headers to Perl libraries, mainly used 
to be able to access from Perl the constants defined using C preprocessor, cpp. 
Because of the above error, parts of the converted headers will be invisible. 
Luckily, these days the need for h2ph is rare.
<p></p> 
<li></li> If building Perl with interpreter threads (ithreads), the 
getgrent(), getgrnam(), and<code>getgrgid()</code> functions cannot return the 
list of the group members due to a bug in the multithreaded support of 
UNICOS/mk. What this means is that in list context the functions will return 
only three values, not four.</ul> 
<h2> UTS </h2> There are a few known test failures, see the perluts manpage 
(README.uts).
<h2> VOS (Stratus) </h2> When Perl is built using the native build process on 
VOS Release 14.5.0 and GNU C++/GNU Tools 2.0.1, all attempted tests either pass 
or result in TODO (ignored) failures.
<h2> VMS </h2> There should be no reported test failures with a default 
configuration, though there are a number of tests marked TODO that point to 
areas needing further debugging and/or porting work.
<h2> Win32 </h2> In multi-CPU boxes, there are some problems with the I/O 
buffering: some output may appear twice.
<h2> XML::Parser not working </h2> Use XML::Parser 2.31 or later. 
<h2> z/OS (OS/390) </h2> z/OS has rather many test failures but the situation 
is actually much better than it was in 5.6.0; it's just that so many new 
modules and tests have been added.
<pre> Failed Test Stat Wstat Total Fail Failed List of Failed</pre> 
<pre> 
---------------------------------------------------------------------------
</pre> 
<pre> ../ext/Data/Dumper/t/dumper.t 357 8 2.24% 311 314 325 327</pre> 
<pre> 331 333 337 339</pre> 
<pre> ../ext/IO/lib/IO/t/io_unix.t 5 4 80.00% 2-5</pre> 
<pre> ../ext/Storable/t/downgrade.t 12 3072 169 12 7.10% 14-15 46-47 78-79
</pre> 
<pre> 110-111 150 161</pre> 
<pre> ../lib/ExtUtils/t/Constant.t 121 30976 48 48 100.00% 1-48</pre> 
<pre> ../lib/ExtUtils/t/Embed.t 9 9 100.00% 1-9</pre> 
<pre> op/pat.t 922 7 0.76% 665 776 785 832-</pre> 
<pre> 834 845</pre> 
<pre> op/sprintf.t 224 3 1.34% 98 100 136</pre> 
<pre> op/tr.t 97 5 5.15% 63 71-74</pre> 
<pre> uni/fold.t 780 6 0.77% 61 169 196 661</pre> 
<pre> 710-711</pre> The failures in dumper.t and downgrade.t are problems in 
the tests, those in io_unix and sprintf are problems in the USS (UDP sockets 
and printf formats). The pat, tr, and fold failures are genuine Perl problems 
caused by EBCDIC (and in the pat and fold cases, combining that with Unicode). 
The Constant and Embed are probably problems in the tests (since they test 
Perl's ability to build extensions, and that seems to be working reasonably 
well.)
<h2> Unicode Support on EBCDIC Still Spotty </h2> Though mostly working, 
Unicode support still has problem spots on EBCDIC platforms. One such known 
spot are the<code>\p{}</code> and <code>\P{}</code> regular expression 
constructs for code points less than 256: the<code>pP</code> are testing for 
Unicode code points, not knowing about EBCDIC.
<h2> Seen In Perl 5.7 But Gone Now </h2> <code>Time::Piece</code> (previously 
known as<code>Time::Object</code>) was removed because it was felt that it 
didn't have enough value in it to be a core module. It is still a useful 
module, though, and is available from the CPAN. Perl 5.8 unfortunately does not 
build anymore onAmigaOS? ; this broke accidentally at some point. Since there 
are not that many Amiga developers available, we could not get this fixed and 
tested in time for 5.8.0. Perl 5.6.1 still works forAmigaOS? (as does the the 
5.7.2 development release). The<code>PerlIO::Scalar</code> and <code>PerlIO::Via
</code> (capitalised) were renamed as <code>PerlIO::scalar</code> and <code>
PerlIO::via</code> (all lowercase) just before 5.8.0. The main rationale was to 
have all corePerlIO? layers to have all lowercase names. The ``plugins'' are 
named as usual, for example<code>PerlIO::via::QuotedPrint</code>. The <code>
threads::shared::queue</code> and <code>threads::shared::semaphore</code> were 
renamed as<code>Thread::Queue</code> and <code>Thread::Semaphore</code> just 
before 5.8.0. The main rationale was to have thread modules to obey normal 
naming,<code>Thread::</code> (the <code>threads</code> and <code>threads::shared
</code> themselves are more pragma-like, they affect compile-time, so they stay 
lowercase).
<p> voltar para o topo </p> 
<h1> Reporting Bugs </h1> If you find what you think is a bug, you might check 
the articles recently posted to the comp.lang.perl.misc newsgroup and the perl 
bug database athttp://bugs.perl.org/ . There may also be information at 
http://www.perl.com/ , the Perl Home Page. If you believe you have an 
unreported bug, please run the<strong>perlbug</strong> program included with 
your release. Be sure to trim your bug down to a tiny but sufficient test case. 
Your bug report, along with the output of<code>perl -V</code>, will be sent off 
toperlbug@perl.org to be analysed by the Perl porting team. 
<p> voltar para o topo </p> 
<h1> SEE ALSO </h1> The <em>Changes</em> file for exhaustive details on what 
changed. The<em>INSTALL</em> file for how to build Perl. The <em>README</em> 
file for general stuff. The<em>Artistic</em> and <em>Copying</em> files for 
copyright information.
<p> voltar para o topo </p> 
<h1> HISTORY </h1> Written by Jarkko Hietaniemi &lt; <em>jhi@iki.fi</em>&gt;. 
<p>voltar para o topo</p> editar | anexar | mais a&ccedil;&otilde;es | imprimir
 |texto puro | historico | login <br>
<br>
Copyright &copy; by the contributing 
authors. All material on this collaboration platform is the property of the 
contributing authors.<br>
 Ideas, requests, problems regarding Perl Brasil? 
Send feedback <br>

</body>