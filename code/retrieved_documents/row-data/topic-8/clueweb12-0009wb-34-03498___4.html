<!doctype html>
<meta charset="utf-8">
<title>Razor is Better.  Seriously Better. - Pop Art Blog</title>
<body>

<p><strong></strong></p> 
<p><em>Flashes of Pop, Wit and Reason</em></p> 
<p><em>Skip down to page content.</em> &darr;</p> 
<ul> 
<li>Company</li> 
<li>Portfolio</li> 
<li>Contact</li> 
<li>Blog 
<ul> 
<li>Business</li> 
<li>Marketing</li> 
<li>Advertising</li> 
<li>Software</li> 
<li>Creative</li> 
<li>Web Development</li> 
<li>Community</li> </ul> </li> 
<li> Search: </li> </ul> 
<ul> 
<li>view posts by Del Olds</li> 
<li>view posts by John Skelton</li> 
<li>view posts by Tom Paul</li> 
<li>view posts by Steve Rosenbaum</li> 
<li>view posts by Dave Selden</li> 
<li>view posts by Lorien Steele</li> 
<li>view posts by Sho Ito</li> 
<li>view posts by Christine Herb</li> 
<li>view posts by Allison Thompson</li> 
<li>view posts by George Winborn</li> 
<li>view posts by Ethan Brown</li> 
<li>view posts by Lulu Cohen</li> 
<li>view posts by Dylan Hallstrom</li> 
<li>view posts by Jamie Jeffers</li> 
<li>view posts by Emily Passmore</li> 
<li>view posts by Stephen Leineweber</li> 
<li>view posts by Jake Neilson</li> </ul> 
<h1>Razor is Better. Seriously&nbsp;Better.</h1> 
<p>Last week at our all-hands meeting, we all had to give a five-minute 
presentation on something we&rsquo;d been working on, which I thought was a 
really great idea. Here at Pop Art, we&rsquo;re all encouraged to be aware of 
what&rsquo;s going outside of our own tasks, but usually that means just a 
general, fuzzy awareness of what people are working on. It was really 
interesting to get a more in-depth perspective on what my colleagues have been 
doing, straight from the proverbial horse&rsquo;s mouth.</p> 
<p>I did my presentation on something I&rsquo;ve been meaning to blog about 
anyway&hellip;something I&rsquo;m very excited about: Microsoft&rsquo;s new 
view engine, Razor.</p> 
<p>First, a little history. Remember when the web started? I know people who 
<i>don&rsquo;t</i>. I think they might even be able to drink now. Scary. 
Anyway, the Internet, as we know it, started somewhere between 1989 and 1991, 
and we were drunk with the possibility of<i>hypertext</i>, but it was mostly a 
static thing: you had documents, and you had images, and they could link to 
each other, and that was great. But if you wanted to do something as simple as, 
for example, displaying the current date, you were pretty much out of luck 
until the common gateway interface (CGI) was introduced in 1993. That was big. 
Really big. But there was still a problem: the barrier to entry was pretty 
high. The world wide web was the wild wild west, and you had to be pretty good 
with a six-shooter if you wanted to play. We wrote our dynamic websites, but we 
did it with C and Perl. You had to know how to write a program<i>and</i> 
understand HTML.</p> 
<p>It didn&rsquo;t really take long for someone to say &ldquo;hey, 
wouldn&rsquo;t it be great if I could write HTML, and make it do dynamic 
things, instead of writing code to generate HTML to do dynamic things.&rdquo; I 
did some research to try to figure out who<i>exactly</i> said this because it 
seems like a huge paradigm shift, and I would like to be able to give someone 
credit&hellip;but I couldn&rsquo;t find anything definite. It could have been
Rasmus Lerdorf, who introduced PHP in 1995, but that&rsquo;s only supposition.
</p> 
<p>Whether the idea came from Rasmus or not, it was clearly a big hit. PHP 
became incredibly popular, and Microsoft, among others, recognized the 
importance of this approach, and imitated it. Microsoft introduced ASP in 
&lsquo;97 and then Sun, playing catch-up to Microsoft, introduced JSP in 
&lsquo;99. Sun brought a lot of innovations to web programming, and J2EE was 
the player to be beat in the late 90s, and Microsoft wanted to beat that player 
very badly, so they answered with ASP.NET in 2002.</p> 
<p>Now here we are in the present day (2011) and, for the most part, ASPX and 
PHP are the lingua franca of the internet, along with some bit players like 
Ruby on Rails, JSP, and Python (and I mean no offense; I know you RoR and 
Python folks are doing great work &mdash; I&rsquo;m just talking sheer numbers 
here). What&rsquo;s interesting is not which dynamic languages are most 
popular; what&rsquo;s interesting is that<i>server-side code embedded in HTML 
is ubiquitous</i>.</p> 
<p>And it&rsquo;s ubiquitous for a reason: it makes sense. A lot more sense 
than having elaborate Perl libraries for generating HTML (and oh yes, I 
remember those days). Now those brilliant front-end people (hello,John!) can 
work their magic and make beautiful HTML, and then us nerdy back-end types can 
just drop the dynamic elements in&hellip;it&rsquo;s like a well-oiled machine.
</p> 
<p>So if it&rsquo;s all so groovy, why do we need yet <i>another</i> 
&ldquo;language&rdquo; (I put &ldquo;language&rdquo; in quotes because 
that&rsquo;s kind of misleading in this case)? Well, because ASP and ASPX and 
JSP and PHP suck. There, I&rsquo;ve said it. They suck. Like most web 
developers, I was so excited by what they could do that I didn&rsquo;t really 
notice how badly they sucked. In the back of my head, I knew it&hellip;and in 
those moments of clarity, when I was trying to untangle a snarl of &lt;% and 
%&gt; tags mixed in with C# mixed in with HTML, I would think 
&ldquo;wow&hellip;this sucks.&rdquo; What<i>really</i> drove it home, though, 
was seeing something better, and that something was Razor. It addressed all the 
things that I knew sucked about ASPX, and a few more that I didn&rsquo;t.</p> 
<p>I&rsquo;m not going to explain Razor here; other people have done a far 
better job of that than I would, so I&rsquo;ll direct you to them insetad:</p> 
<ul> 
<li>Microsoft developer Scott Guthrie&rsquo;s excellent introduction to Razor. 
A great place to start.</li> 
<li>Microsoft introduction to Razor. Well-written, with some very illuminating 
explanations (lots of &ldquo;ah-hah!&rdquo; moments here).</li> 
<li>Andrew Nurse is one of the developers of the Razor view engine, and his 
blog posts contain some interesting details about the implementation of Razor 
for those wanting to dive a little deeper.</li> </ul> 
<p>In preparing for my five-minute presentation at Pop Art, I did a little 
analysis to see exactly how many fewer characters you&rsquo;d end up typing 
with Razor, and I found you&rsquo;d end up typing as much as<i>ten to twenty 
times fewer</i> fiddly punctuation characters in your Razor code. 
ASP/ASPX/JSP/PHP often look like a comic strip character cussing and 
Razor&hellip;well, it looks<i>good</i>.</p> 
<p>Okay, so typing fewer symbols isn&rsquo;t all <i>that</i> exciting (after 
all, most programmers can hit 12,000 characters per hour or more)&hellip;maybe 
you&rsquo;ll save an hour or so of typing on your average website 
implementation. What<i>is</i> exciting is that your HTML is a lot easier to 
read. It&rsquo;s easier to indent, it looks cleaner, it flows 
better&hellip;it&rsquo;s just<i>prettier</i>. Again, that may not seem like 
that big of a deal until you sit down and think about how much of this stuff 
you stare at<i>every day</i> (if you&rsquo;re a web developer, that is). 
It&rsquo;s like public art: it doesn&rsquo;t &ldquo;serve a purpose&rdquo; per 
se, it just makes your life more pleasant.</p> 
<p>Aesthetics aside, are there practical, tangible benefits? I certainly think 
so. If I&rsquo;m writing a view from scratch, I have to constantly be thinking 
about whether or not I closed that opening &lt;% or whether I&rsquo;m writing 
HTML or C#&hellip;not a huge strain, perhaps, but it&rsquo;s distracting me 
from the actual job at hand. Syntax highlighting has certainly gone a long way 
to addressing this problem, but that&rsquo;s more of a band-aid than an actual 
solution. Then there&rsquo;s the situation where I&rsquo;m dropping in to 
maintain or enhance an existing view&hellip;it&rsquo;s entirely possible that 
someone else wrote it originally. It takes a certain amount of time to mentally 
untangle the C# from the HTML amid that sea of angle brackets and percent 
signs. With Razor, it&rsquo;s a lot easier to look at some HTML and see 
what&rsquo;s happening.</p> 
<p>In general, there&rsquo;s just a lot of repetitive, unnecessary 
&ldquo;garbage&rdquo; is eliminated in Razor. For example, specifying the model 
for a view. In ASPX:</p> 
<pre> &lt;%@ Page Title=&quot;&quot; Language=&quot;C#&quot; 
MasterPageFile=&quot;~/Views/Shared/Site.Master&quot; 
Inherits=&quot;System.Web.Mvc.ViewPage&quot; %&gt;</pre> 
<p>And in Razor:</p> 
<pre> @model MvcTempDemo1.Models.EmployeeModel </pre> 
<p>So you might be wondering at this point if the only improvements in Razor 
are semantic-aesthetic ones. That&rsquo;s the bulk of what Razor gives you, but 
there is some new functionality that was difficult or impossible to do in ASPX, 
such as sections (seeScott Guthrie&rsquo;s introduction for more information 
about this).</p> 
<p>You also might ask if Razor is really that new or revolutionary, and I 
would be remiss if I didn&rsquo;t point out that there are two other .NET view 
engines that have been around a while trying to solve the same problem as Razor:
Spark and NHaml. I checked them both out, and they&rsquo;re both very 
interesting in their own way. Spark has taken a very intriguing approach: 
they&rsquo;ve tried to make embedded server-side code look more like HTML. For 
example, you can say &lt;if condition=&rdquo;x==5&Prime;&gt;x is 
five&lt;/if&gt;&lt;else&gt;!x is not five!&lt;/else&gt;. At first this struck 
me as an excellent idea: making editing dynamic HTML more like, well, editing 
HTML. But after thinking about it, I decided it&rsquo;s actually a bad thing 
&mdash; in blurring the line between HTML and your server-side language, 
you&rsquo;re losing sight of the fact that they are indeed two very different 
things. Maybe this will change as technologies like HTML5 bring more 
programmatic features to HTML. NHaml takes an approach that is perhaps closer 
to Razor, but much more alien than either Razor or Spark, and makes me think 
more of Python or Ruby. It&rsquo;s a very sparse syntax, and indentation 
matters! (I&rsquo;m not one of those anti-&rdquo;indentation as syntax&rdquo; 
zealots, but it doesn&rsquo;t really thrill me in this context.) So if you 
really enjoy compact representation and/or you&rsquo;re a huge Python fan, you 
might really take to NHaml. I&rsquo;m more practical: I think people are really 
comfortable with HTML, so I prefer the approach taken by Razor. HTML looks like 
HTML, and dynamic syntax is fairly unobtrusive.</p> 
<p>My colleague John asked a very good question: &ldquo;what about 
performance?&rdquo; I haven&rsquo;t done any research on this, but I 
don&rsquo;t think there&rsquo;s anything to worry about here. Like ASPX, Razor 
pages are basically parsed by the web server and then compiled into a .NET 
binary which dynamically generates the HTML that gets sent to the client 
browser (essentially writing automatically what we were doing by hand with CGI 
back in the early 90s). Once this one-time compilation is done, Razor will be 
no slower (or faster) than an ASPX page. Normally, the compilation of the 
ASPX/Razor pages (JSP works the same way) is done on a &ldquo;just in 
time&rdquo; (JIT) basis, so the first time you hit a page, it takes a while 
while the server compiles the page. However,there are techniques to pre-compile 
every dynamic page on a web server to avoid this problem &mdash; and this is a 
problem independent of Razor.</p> 
<p>So, do I see any downsides to Razor? Well, not many: I think it&rsquo;s a 
huge improvement over PHP/JSP/ASP/ASPX and cleaner (to me) than Spark or NHaml. 
However, one could certainly make an argument that Razor introduces the 
opportunity for a careless designer to accidentally delete a closing brace (for 
example) thinking &ldquo;hey, that doesn&rsquo;t belong in the HTML&rdquo;, not 
really realizing that it&rsquo;s part of the server-side programming syntax. 
For me, this is a small trade-off for the improved readability and flow of the 
Razor syntax. It will be a bit of a headache for a while, though. For example, 
our front-end developer uses a Mac, and I&rsquo;d be surprised if his editor (
Coda) supports Razor syntax. This problem will subside, though, as code editors 
get hip to Razor (happily, my favorite editor,vim has already got Razor syntax 
support, though you&rsquo;ve got to work for it a little bit).</p> 
<p>This has been a long post that I&rsquo;m going to wrap up here, but before 
I go, there&rsquo;s one more comforting thing I want to say about Razor for 
those of you out there maybe a little daunted by the idea of converting all of 
your ASPX pages to Razor pages: you don&rsquo;t have to. ASPX and Razor pages 
can exist side-by-side in total harmony in your site. On one site I&rsquo;m 
working on, I&rsquo;m doing exactly this: the views were originally done in 
ASPX, and I&rsquo;m leaving them that way until I have to fix a bug or 
implement a feature; I&rsquo;m kind of bit-by-bit converting these views to 
Razor. The only thing you have to remember here is that IIS will serve an ASPX 
file before a Razor file, so if you have &ldquo;Default.aspx&rdquo; and 
&ldquo;Default.cshtml&rdquo; in the same directory, IIS will quietly serve the 
former.</p> 
<p>I can&rsquo;t think of a single reason why you shouldn&rsquo;t switch to 
Razor. It literally takes about fifteen minutes to get the hang of it, and you 
can replace your existing ASPX files piecemeal. There&rsquo;s no performance 
hit, and your views will be a lot easier to read.</p> 
<p>Here&rsquo;s the Powerpoint presentation (I know, I know!) I used for my 
talk:</p> 
<p>Razor View Engine &mdash; 5 Minutes</p> <br>

<ul> 
<li>Share on Twitter</li> 
<li>Share on Delicious</li> 
<li>Share on Facebook</li> 
<li>Digg this</li> 
<li>Email to a Friend</li> </ul> 
<p> Posted on June 22, 2011. Filed under Software, Web Development, Andrew 
Nurse, ASP.Net, Razor, Scott Guthrie. </p> 
<p></p> 
<p>By Ethan Brown, Software Developer</p> 
<h3>No Comments on <em>Razor is Better. Seriously&nbsp;Better.</em></h3> 
<p>Comments on this entry are closed.</p> <br>
&laquo; Previous Post: <br>

Branding &ndash; What does it really mean,&nbsp;anyway? <br>
Next Post &raquo; 
<br> Exceptional&nbsp;Time-Wasting <br>

<h4>Pop Art Tweets: @PopArt</h4> 
<ul> 
<li> 
<p> RT @daveselden: Miss some Superbowl ads? Come see 'em tonight with @
stlandau @jerryketel @theAndy at FREE PAF event: http://t.co/wu988y8E  2 days 
ago </p> </li> 
<li> 
<p> We'd like to remind you about our two opening positions: iOS Dev &amp; PM. 
Work with us in the shiny new office!http://t.co/MDpaMynR  2 days ago </p> </li>
</ul> 
<h4>About This Blog</h4> 
<p>The Pop Art blog is our ongoing social media mash-up, designed to bring our 
part of thePortland, Oregon interactive marketing world to you. It&rsquo;s a 
melting pot for the tweets, Diggs, staff bios, Facebook status updates and 
Flickr photos that give you a glimpse into the daily lives of your average 
Pop&nbsp;Artist.</p> 
<p>Our blog isn&rsquo;t just for us though. Look around and leave a comment or 
two. If you&rsquo;d like to stay on top of our latest posts, sign up for our 
RSS feed and you can be the first to know what goes on here at Pop&nbsp;Art.</p>
<h4>Search Blog</h4> <br>

<h4>Popular Tags</h4> 
<ul> 
<li>.net</li> 
<li>accessibility</li> 
<li>copy</li> 
<li>CSS</li> 
<li>design</li> 
<li>inspiration</li> 
<li>microsoft</li> 
<li>observations</li> 
<li>reviews</li> 
<li>standards</li> </ul> 
<h4>Subscribe</h4> 
<p>Grab an Atom feed:</p> 
<ul> 
<li>Full Entries</li> </ul> 
<p>What is RSS/Atom?</p> 
<h4>Flickr: PopArtInc</h4> 
<ul> 
<li></li> 
<li></li> 
<li></li> 
<li></li> 
<li></li> 
<li></li> 
<li></li> 
<li></li> </ul> <br>
<br>

<p> </p> 
<p> Pop Art, Inc.&ensp;&bull;&ensp;Interactive Marketing Agency
&ensp;&bull;&ensp;1125 NW Couch Street, Suite 805&ensp;&bull;&ensp;Portland, 
Oregon 97209 <br>
Tel: (503) 242-4292&ensp;&bull;&ensp;Toll Free: (888) POPART-1
&ensp;&bull;&ensp;Fax: (503) 242-2491 </p> 
<ul> 
<li>Site Map</li> 
<li>Photo Credits</li> 
<li>Privacy Policy</li> 
<li>Social media icons by Komodo Media, used with permission</li> </ul> 
<p> A Pop Art&reg; Production. &copy; 1997&ndash;2012 Pop Art, Inc. </p> <br>

</body>