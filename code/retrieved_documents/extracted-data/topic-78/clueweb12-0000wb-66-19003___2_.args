instead, on a single-user pc, it is better to read a block of each of the 2 (or more) files into ram and carry out the merge algorithm there, with the output also kept in a buffer in ram until the buffer is filled (or we are out of data) and only then writing it out to disk.perhaps the simplest form of external sorting is to use a fast internal sort with goodlocality of reference (which means that it tends to reference nearby items, not widely scattered items) and hope that your operating system's virtual memory can handle it.after the sorted runs have been generated, a merge algorithm is used to combine sorted files into longer sorted files.according to shaffer, a multiway merge using half a megabyte of ram and a disk block size of 4 kb could hold 128 disk blocks in ram at once.this would allow 128 runs to be merged together in one pass.this would likely produce a lot of time-consuming disk seeks.we also merge the top-numbered pair of extsorttempa files first, placing the merged data into a file named extsorttemp.0, then we merge the next pair of extsorttempa files into a file named extsorttemp.1, etc.the handlemerges function has the job of merging all of these sorted runs, two at a time, until all of the data is merged back under the original file name.a more likely scenario in a good external sort is that the same amount of memory is used in both cases, no matter how many buffers exist in each case.performance would probably be better with larger buffers.the following example attempts to show the main features used in most any external sort: producing sorted initial runs, the merging of sorted runs, and the buffering of data.these can be produced by repeatedly reading a section of the data file into ram, sorting it with ordinary quicksort, and writing the sorted data to disk.a key place where this is true is that the example program merges only 2 sorted files at a time; it does not attempt to do a multiway merge (such as the 128-way merge mentioned above).the buffers were kept small so that the merge portion of the algorithm could be observed without needing a huge test file.when the merge algorithm exhausts one of the blocks of data, refill it by reading from disk another block of the associated file.